{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bunny\\\\Documents\\\\GitHub\\\\signals-web-app\\\\src\\\\FrequencyDomain.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport styles from './FrequencyDomain.module.css';\nimport * as d3 from \"d3\";\nconst svgContainerWidth = 800;\nconst svgContainerHeight = 800;\n\nfunction Dials(props) {\n  return React.createElement(\"div\", {\n    className: styles.signal_container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: styles.signal_info,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"ID: \", props.signal.id), React.createElement(\"button\", {\n    id: \"remove-signal\",\n    onClick: i => props.onRemove(props.signal.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, \" Remove Signal \")), React.createElement(\"div\", {\n    className: styles.signal_props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Amplitude: \", props.signal.amplitude), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"Frequency: \", props.signal.frequency), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Phase: \", props.signal.phase)), React.createElement(\"div\", {\n    className: styles.signal_dials,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_AmpDial\",\n    signal_id: props.signal.id,\n    input_type: \"AmpDial\",\n    type: \"range\",\n    min: -5,\n    max: 5,\n    value: props.signal.amplitude,\n    step: 0.1,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_AmpText\",\n    signal_id: props.signal.id,\n    input_type: \"AmpText\",\n    type: \"number\",\n    min: -5,\n    max: 5,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_FreqDial\",\n    signal_id: props.signal.id,\n    input_type: \"FreqDial\",\n    type: \"range\",\n    min: -4,\n    max: 4,\n    value: props.signal.frequency,\n    step: 0.1,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_FreqText\",\n    signal_id: props.signal.id,\n    input_type: \"FreqText\",\n    type: \"number\",\n    min: -4,\n    max: 4,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_PhaseDial\",\n    signal_id: props.signal.id,\n    input_type: \"PhaseDial\",\n    type: \"range\",\n    min: -180,\n    max: 180,\n    value: props.signal.phase,\n    step: 1,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    id: \"signal\" + props.signal.id + \"_PhaseText\",\n    signal_id: props.signal.id,\n    input_type: \"PhaseText\",\n    type: \"number\",\n    min: -180,\n    max: 180,\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))));\n}\n\nclass Controls extends React.Component {\n  renderDial(signal) {\n    return React.createElement(Dials, {\n      signal: signal,\n      onChange: event => this.props.onChange(event),\n      onRemove: i => this.props.onRemove(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    const signalList = [];\n\n    for (let i = 0; i < this.props.signals.length; i++) {\n      signalList.push(React.createElement(\"div\", {\n        key: \"signal\" + this.props.signals[i].id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.renderDial(this.props.signals[i])));\n    }\n\n    return React.createElement(\"div\", {\n      className: styles.dials,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, signalList, React.createElement(\"button\", {\n      id: \"add-signal\",\n      \"align-content\": \"center\",\n      onClick: () => this.props.onAdd(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" Add New Signal \"));\n  }\n\n}\n\nfunction Circles(props) {\n  return React.createElement(\"circle\", {\n    id: \"circle_\" + props.signal.id,\n    signal_id: props.signal.id,\n    cx: props.signal.frequency * (800 / 8),\n    cy: props.signal.amplitude * (800 / 8),\n    transform: \"translate(400,400) scale(1,-1)\",\n    r: 20,\n    fill: \"black\",\n    stroke: \"black\",\n    strokeWidth: \"1\",\n    onMouseDown: props.onMouseDown,\n    onMouseUp: props.onMouseUp,\n    onMouseOut: props.onMouseUp,\n    onMouseMove: props.onMouseMove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  });\n}\n\nclass SinePlot extends React.Component {\n  render() {\n    const current = this.props.signals; // Appending svg\n    // Check if the element 'svg_id' exists. If not, create new svg, append and draw it\n    // Not sure if this scales well \n\n    for (let i = 0; i < current.length; i++) {\n      let svgID = 'svg_';\n      let pathID = 'path_';\n      svgID = svgID.concat(i.toString(10));\n      pathID = pathID.concat(i.toString(10));\n      let lineGenerator = d3.line().curve(d3.curveNatural);\n      let pathData = lineGenerator(current[i].values); // Create scale\n\n      let xscale = d3.scaleLinear().domain([0, 2]) // This needs to be dynamic\n      .range([50, 750]);\n      let yscale = d3.scaleLinear().domain([3.5, -3.5]) // This needs to be dynamic\n      .range([50, 750]); // Add scales to axis\n\n      let x_axis = d3.axisBottom().scale(xscale);\n      let y_axis = d3.axisLeft().scale(yscale); // For now, if svgID exists, then just redraw\n\n      if (document.getElementById(svgID)) {\n        d3.select(\"#\" + pathID).attr(\"d\", pathData);\n      } // If svgID doesn't exist, then add it to the DOM\n\n\n      if (!document.getElementById(svgID)) {\n        //The SVG Container\n        const svgSinePlot = d3.select(\"#sinePlotsID\").append(\"svg\").attr(\"id\", svgID).attr(\"width\", svgContainerWidth).attr(\"height\", svgContainerHeight).attr(\"transform\", \"translate(10)\").attr(\"style\", \"position: absolute\").attr(\"style\", \"border: 1px solid black\").attr(\"top\", \"100px\").attr(\"left\", \"50px\");\n        svgSinePlot.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"x\", 400).attr(\"y\", 30).style(\"font-size\", \"16px\").style(\"text-decoration\", \"underline\").text(\"Sine Plot \" + i); //The line SVG Path we draw\n\n        svgSinePlot.append(\"path\").attr(\"id\", pathID).attr(\"transform\", \"translate(50)\").attr(\"d\", pathData).attr(\"stroke\", \"blue\").attr(\"stroke-width\", 2).attr(\"fill\", \"none\");\n        svgSinePlot.append('g').attr(\"transform\", \"translate(0,400)\").call(x_axis);\n        svgSinePlot.append('g').attr(\"transform\", \"translate(50,0)\").call(y_axis);\n      }\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport class FrequencyPlot extends React.Component {\n  renderCircle(signal) {\n    return React.createElement(Circles, {\n      signal: signal,\n      onMouseDown: event => this.props.onMouseDown(event),\n      onMouseUp: event => this.props.onMouseUp(event),\n      onMouseOut: event => this.props.onMouseUp(event),\n      onMouseMove: event => this.props.onMouseMove(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    const signals = this.props.signals;\n    let freqSvg = d3.select(\"#svgFreqPlot\");\n    const circleList = [];\n\n    for (let i = 0; i < this.props.signals.length; i++) {\n      circleList.push(this.renderCircle(this.props.signals[i]));\n    } // Should probably check both axis if they exist before appending\n\n\n    if (!document.getElementById(\"x_axis_freqPlot\")) {\n      // Create Axis for Frequency Plot\n      let xscale_freq = d3.scaleLinear().domain([-3.5, 3.5]) // This needs to be dynamic\n      .range([50, 750]);\n      let yscale_freq = d3.scaleLinear().domain([3.5, -3.5]) // This needs to be dynamic\n      .range([50, 750]); // Add scales to axis\n\n      let x_axis_freq = d3.axisBottom().scale(xscale_freq);\n      let y_axis_freq = d3.axisLeft().scale(yscale_freq);\n      freqSvg.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"x\", 400).attr(\"y\", 30).style(\"font-size\", \"16px\").style(\"text-decoration\", \"underline\").text(\"Frequency Domain Plot\");\n      freqSvg.append('g').attr(\"id\", \"x_axis_freqPlot\").attr(\"transform\", \"translate(0,400)\").call(x_axis_freq);\n      freqSvg.append('g').attr(\"id\", \"y_axis_freqPlot\").attr(\"transform\", \"translate(400,0)\").call(y_axis_freq);\n    }\n\n    return React.createElement(\"svg\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, circleList);\n  }\n\n}\n\nclass SumPlot extends React.Component {\n  render() {\n    let sumSignals = [];\n    let svgContainerHeight = 800;\n    let plotWidth = 700; // This will break if we change plotWidth elsewhere \n\n    for (let k = 0; k < plotWidth; k++) {\n      sumSignals.push([0, 0]);\n    } // Looping through all the signals\n\n\n    for (let i = 0; i < this.props.signals.length; i++) {\n      // Looping through the signal values\n      for (let j = 0; j < this.props.signals[i].values.length; j++) {\n        //sumSignals[j] = this.props.signals[i].values[j];\n        sumSignals[j][0] = this.props.signals[i].values[j][0];\n        sumSignals[j][1] += this.props.signals[i].values[j][1];\n      }\n    } // There is a way to scale this to the svg dimenesions rather than hardcoding it\n\n\n    for (let n = 0; n < sumSignals.length; n++) {\n      sumSignals[n][1] = sumSignals[n][1] - (this.props.signals.length - 1) * (svgContainerHeight / 2);\n    }\n\n    let lineGenerator = d3.line().curve(d3.curveNatural);\n    let pathData = lineGenerator(sumSignals); // Create scale\n\n    let xscale = d3.scaleLinear().domain([0, 2]) // This needs to be dynamic\n    .range([50, 750]);\n    let yscale = d3.scaleLinear().domain([3.5, -3.5]) // This needs to be dynamic\n    .range([50, 750]); // Add scales to axis\n\n    let x_axis = d3.axisBottom().scale(xscale);\n    let y_axis = d3.axisLeft().scale(yscale); //The line SVG Path we draw\n    // If exists, update\n\n    if (document.getElementById(\"path_Sum\")) {\n      d3.select(\"#\" + \"path_Sum\").attr(\"d\", pathData);\n    } // Draws path if it doesn't exist\n\n\n    if (!document.getElementById(\"path_Sum\")) {\n      d3.select(\"#svgSumPlot\").append(\"path\").attr(\"id\", \"path_Sum\").attr(\"d\", pathData).attr(\"transform\", \"translate(50)\").attr(\"stroke\", \"blue\").attr(\"stroke-width\", 2).attr(\"fill\", \"none\");\n      const svgSumPlot = d3.select(\"#svgSumPlot\");\n      svgSumPlot.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"x\", 400).attr(\"y\", 30).style(\"font-size\", \"16px\").style(\"text-decoration\", \"underline\").text(\"Sum of Signals Plot\");\n      svgSumPlot.append('g').attr(\"transform\", \"translate(0,400)\").call(x_axis);\n      svgSumPlot.append('g').attr(\"transform\", \"translate(20,0)\").call(y_axis).attr(\"transform\", \"translate(50,0)\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport class FrequencyDomain extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signals: [\n        /* Example signal object \r\n            {\r\n            id: 0,\r\n            amplitude: 1,\r\n            frequency: 1,\r\n            values: this.generateSignal(1,1),\r\n            dragging: false,    \r\n            },\r\n        */\n      ],\n      circles: []\n    }; // This binding is necessary to make `this.` work in the callback   \n\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n  }\n\n  addSignal() {\n    const signals = this.state.signals; // Once this.setState has been called, it'll call render() to render straight away\n\n    this.setState({\n      signals: signals.concat([{\n        // Just concatenating array of JSON\n        id: signals.length,\n        amplitude: 0,\n        // Should be user input\n        frequency: 0,\n        // Should be user input\n        phase: 0,\n        values: this.generateSignal(0, 0, 0),\n        dragging: false\n      }])\n    });\n  }\n\n  removeSignal(i) {\n    // Need to find signal id from the array and delete, then re-update id's\n    const signals = this.state.signals;\n    console.log(\"Hi from removeSignal\");\n    console.log(i);\n    console.log(\"Before: \", signals);\n    signals.splice(i, 1);\n    console.log(\"After:\", signals);\n\n    for (let n = 0; n < this.state.signals.length; n++) {\n      signals[n].id = n;\n    } // Find the svgId and pathID and delete from DOM\n\n\n    let svgID = 'svg_';\n    let pathID = 'path_';\n    svgID = svgID.concat(i.toString(10));\n    pathID = pathID.concat(i.toString(10));\n    d3.select(\"#\" + svgID).remove();\n    this.setState({\n      signals: signals\n    });\n    console.log(this.state.signals);\n  }\n\n  generateSignal(amplitude, frequency, phase) {\n    // Generating path data\n    let points = [];\n    const plotHeight = 700;\n    const plotWidth = 700;\n    let scale = -100;\n    let x_offset = 0;\n    let y_offset = 50;\n    let Fs = 80;\n    let Ts = Math.PI / 200;\n    /* Calculation Reference\r\n    // 1 period = 1 second\r\n    // 1 period = 400 pixels => Ts = 400 samples per second\r\n    // 1 Hz = 2pi radians\r\n      // Sampling frequency = samples/second\r\n    // 1 sample per 1/400 second (Ts = 1/400)\r\n    // Fs = 2pi * (1/400)\r\n    // Fs = pi / 200\r\n      // Frequency is in Hz\r\n    // This is bascially an inverse FFT \r\n    // i is basically our t (1 unit of time)\r\n    */\n\n    for (let i = x_offset; i < plotWidth; i++) {\n      points[i] = [i, scale * amplitude * Math.sin(Ts * frequency * i + phase * (Math.PI / 180)) + (plotHeight / 2 + y_offset)];\n    }\n\n    return points;\n  }\n\n  updateDials() {\n    const signals = this.state.signals;\n\n    for (let i = 0; i < signals.length; i++) {\n      document.getElementById(\"signal\" + signals[i].id + \"_AmpText\").value = signals[i].amplitude;\n      document.getElementById(\"signal\" + signals[i].id + \"_FreqText\").value = signals[i].frequency;\n    }\n  }\n\n  handleChange(event) {\n    const signals = this.state.signals;\n    const inputType = event.target.getAttribute('input_type');\n    const signalID = event.target.getAttribute('signal_id'); // Signal ID Number\n\n    let value = parseFloat(event.target.value); // Text Form can currently exceed the maximum limit of 10, should limit?\n\n    if (inputType === \"AmpDial\" || inputType === \"AmpText\") {\n      if (isNaN(value)) {\n        value = 0;\n      } else {\n        signals[signalID].amplitude = value;\n        signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\n        document.getElementById(\"signal\" + signalID + \"_AmpText\").value = value;\n      }\n    } else if (inputType === \"FreqDial\" || inputType === \"FreqText\") {\n      if (isNaN(value)) {\n        value = 0;\n      } else {\n        signals[signalID].frequency = value;\n        signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\n        document.getElementById(\"signal\" + signalID + \"_FreqText\").value = value;\n      }\n    } else if (inputType === \"PhaseDial\" || inputType === \"PhaseText\") {\n      if (isNaN(value)) {\n        value = 0;\n      } else {\n        signals[signalID].phase = value;\n        signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\n        document.getElementById(\"signal\" + signalID + \"_PhaseText\").value = value;\n      }\n    }\n\n    this.setState({\n      signals: signals\n    });\n  }\n\n  handleMouseDown(e) {\n    console.log(\"clicked\");\n    e.preventDefault();\n    const signals = this.state.signals;\n    const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\n\n    signals[signalID].dragging = true;\n    this.setState({\n      signals: signals\n    });\n  }\n\n  handleMouseUp(e) {\n    console.log(\"click released\");\n    const signals = this.state.signals;\n    const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\n\n    console.log(e.type);\n\n    if (e.type == 'mouseout' && signals[signalID].dragging) {\n      console.log(\"mouse went out\");\n      return;\n    }\n\n    signals[signalID].dragging = false;\n    this.setState({\n      signals: signals\n    });\n  }\n\n  handleMouseMove(e) {\n    const signals = this.state.signals;\n    const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\n    //If we are dragging\n\n    if (signals[signalID].dragging) {\n      e.preventDefault();\n      console.log(e);\n      console.log(e.target);\n      console.log(\"clientX:\", e.clientX);\n      console.log(\"clientY:\", e.clientY); // console.log(e.target.parentNode.parentNode)\n\n      let rect = e.target.parentNode.parentNode.getBoundingClientRect();\n      console.log(rect.left);\n      console.log(rect.top); // Maybe should seperate coordinates and freq/amp values\n\n      signals[signalID].frequency = (e.clientX - rect.left - 400) / 100;\n      signals[signalID].amplitude = -(e.clientY - rect.top - 400) / 100;\n      signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase); // We should set position limits\n\n      console.log(signals[signalID].frequency);\n      console.log(signals[signalID].amplitude);\n      console.log(this);\n      this.setState({\n        signals: signals\n      });\n    }\n  }\n\n  render() {\n    const current = this.state.signals;\n    return React.createElement(\"div\", {\n      className: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.sinePlots,\n      id: \"sinePlotsID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652\n      },\n      __self: this\n    }, React.createElement(SinePlot, {\n      signals: current,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 653\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: styles.otherPlots,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.freqPlots,\n      id: \"freqPlotsID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      id: \"svgFreqPlot\",\n      width: \"800\",\n      height: \"800\",\n      style: {\n        position: \"relative\",\n        top: \"0%\",\n        left: \"0%\",\n        transform: \"translate(0%, 0%)\",\n        border: '1px solid black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 660\n      },\n      __self: this\n    }, React.createElement(FrequencyPlot, {\n      signals: current,\n      onMouseDown: event => this.handleMouseDown(event),\n      onMouseUp: event => this.handleMouseUp(event),\n      onMouseOut: event => this.handleMouseUp(event),\n      onMouseMove: event => this.handleMouseMove(event),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: styles.sumPlots,\n      id: \"sumPlotsID\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 680\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      id: \"svgSumPlot\",\n      width: \"800\",\n      height: \"800\",\n      style: {\n        position: \"relative\",\n        top: \"0%\",\n        left: \"0%\",\n        transform: \"translate(0%, 0%)\",\n        border: '1px solid black'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 681\n      },\n      __self: this\n    }, React.createElement(SumPlot, {\n      signals: current,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 689\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: styles.controls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695\n      },\n      __self: this\n    }, React.createElement(Controls, {\n      signals: current,\n      onChange: event => this.handleChange(event),\n      onAdd: () => this.addSignal(),\n      onRemove: i => this.removeSignal(i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/bunny/Documents/GitHub/signals-web-app/src/FrequencyDomain.js"],"names":["React","Component","ReactDOM","styles","d3","svgContainerWidth","svgContainerHeight","Dials","props","signal_container","signal_info","signal","id","i","onRemove","signal_props","amplitude","frequency","phase","signal_dials","onChange","Controls","renderDial","event","render","signalList","signals","length","push","dials","onAdd","Circles","onMouseDown","onMouseUp","onMouseMove","SinePlot","current","svgID","pathID","concat","toString","lineGenerator","line","curve","curveNatural","pathData","values","xscale","scaleLinear","domain","range","yscale","x_axis","axisBottom","scale","y_axis","axisLeft","document","getElementById","select","attr","svgSinePlot","append","style","text","call","FrequencyPlot","renderCircle","freqSvg","circleList","xscale_freq","yscale_freq","x_axis_freq","y_axis_freq","SumPlot","sumSignals","plotWidth","k","j","n","svgSumPlot","FrequencyDomain","constructor","state","circles","handleMouseDown","bind","handleMouseUp","handleMouseMove","addSignal","setState","generateSignal","dragging","removeSignal","console","log","splice","remove","points","plotHeight","x_offset","y_offset","Fs","Ts","Math","PI","sin","updateDials","value","handleChange","inputType","target","getAttribute","signalID","parseFloat","isNaN","e","preventDefault","type","clientX","clientY","rect","parentNode","getBoundingClientRect","left","top","container","sinePlots","otherPlots","freqPlots","position","transform","border","sumPlots","controls"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styles from './FrequencyDomain.module.css';\r\nimport * as d3 from \"d3\";\r\n\r\nconst svgContainerWidth = 800;\r\nconst svgContainerHeight = 800;\r\n\r\nfunction Dials(props) {\r\n    return(\r\n        <div className={styles.signal_container}>\r\n            <div className={styles.signal_info}>\r\n                <div>ID: {props.signal.id}</div>\r\n                <button id = \"remove-signal\" onClick={(i) => props.onRemove(props.signal.id)}> Remove Signal </button>\r\n            </div>\r\n            <div className={styles.signal_props}>\r\n                <div>Amplitude: {props.signal.amplitude}</div>\r\n                <div>Frequency: {props.signal.frequency}</div>\r\n                <div>Phase: {props.signal.phase}</div>\r\n            </div>\r\n            <div className = {styles.signal_dials}>\r\n                <div>\r\n                    <input \r\n                    id = {\"signal\" + props.signal.id + \"_AmpDial\" }\r\n                    signal_id = {props.signal.id}\r\n                    input_type = {\"AmpDial\"}\r\n                    type =\"range\" \r\n                    min={-5} \r\n                    max ={5} \r\n                    value = {props.signal.amplitude} \r\n                    step={0.1}\r\n                    onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                    id = {\"signal\" + props.signal.id + \"_AmpText\" }\r\n                    signal_id = {props.signal.id}\r\n                    input_type = {\"AmpText\"}\r\n                    type = \"number\"  \r\n                    min = {-5}\r\n                    max = {5}\r\n                    onChange={props.onChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                        id = {\"signal\" + props.signal.id + \"_FreqDial\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"FreqDial\"}\r\n                        type =\"range\" \r\n                        min={-4} \r\n                        max ={4} \r\n                        value = {props.signal.frequency} \r\n                        step={0.1}\r\n                        onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                        id = {\"signal\" + props.signal.id + \"_FreqText\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"FreqText\"}\r\n                        type = \"number\"  \r\n                        min = {-4}\r\n                        max = {4}\r\n                        onChange={props.onChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                        id = {\"signal\" + props.signal.id + \"_PhaseDial\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"PhaseDial\"}\r\n                        type =\"range\" \r\n                        min={-180} \r\n                        max ={180} \r\n                        value = {props.signal.phase} \r\n                        step={1}\r\n                        onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                        id = {\"signal\" + props.signal.id + \"_PhaseText\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"PhaseText\"}\r\n                        type = \"number\"  \r\n                        min = {-180}\r\n                        max = {180}\r\n                        onChange={props.onChange}\r\n                    />\r\n                </div>        \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Controls extends React.Component {\r\n\r\n    renderDial(signal){\r\n        return(\r\n            <Dials\r\n                signal = {signal}\r\n                onChange = {(event) => this.props.onChange(event)}\r\n                onRemove = {(i) => this.props.onRemove(i)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n        const signalList = []; \r\n        for (let i=0; i < this.props.signals.length; i++){\r\n            signalList.push(\r\n                <div key={\"signal\" + this.props.signals[i].id}> \r\n                    {this.renderDial(this.props.signals[i])} \r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div className = {styles.dials} >\r\n                {signalList}\r\n                <button id = \"add-signal\" align-content = \"center\" onClick={() => this.props.onAdd()}> Add New Signal </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Circles(props) {\r\n        return(\r\n            <circle\r\n                id = {\"circle_\"+props.signal.id}\r\n                signal_id = {props.signal.id}\r\n                cx = {(props.signal.frequency)* (800/8)}\r\n                cy = {(props.signal.amplitude)*(800/8)}\r\n                transform=\"translate(400,400) scale(1,-1)\"\r\n                r = {20}\r\n                fill = \"black\"\r\n                stroke = \"black\"\r\n                strokeWidth=\"1\"\r\n                onMouseDown={props.onMouseDown}\r\n                onMouseUp={props.onMouseUp}\r\n                onMouseOut={props.onMouseUp}\r\n                onMouseMove={props.onMouseMove}\r\n            />\r\n        );\r\n    \r\n}\r\n\r\n\r\nclass SinePlot extends React.Component {\r\n    render(){\r\n        const current = this.props.signals;\r\n    \r\n        // Appending svg\r\n        // Check if the element 'svg_id' exists. If not, create new svg, append and draw it\r\n        // Not sure if this scales well \r\n\r\n        for(let i = 0; i < current.length; i++){\r\n\r\n            let svgID  = 'svg_'\r\n            let pathID = 'path_'\r\n            svgID = svgID.concat(i.toString(10))\r\n            pathID = pathID.concat(i.toString(10))\r\n\r\n            let lineGenerator = d3.line()\r\n                                  .curve(d3.curveNatural);\r\n\r\n            let pathData = lineGenerator(current[i].values);\r\n\r\n             // Create scale\r\n            let xscale = d3.scaleLinear()\r\n                        .domain([0, 2]) // This needs to be dynamic\r\n                        .range([50, 750]);\r\n\r\n            let yscale = d3.scaleLinear()\r\n                        .domain([3.5,-3.5]) // This needs to be dynamic\r\n                        .range([50, 750]);\r\n\r\n            // Add scales to axis\r\n            let x_axis = d3.axisBottom()\r\n                .scale(xscale);\r\n\r\n            let y_axis = d3.axisLeft()\r\n                .scale(yscale);\r\n\r\n            // For now, if svgID exists, then just redraw\r\n            if(document.getElementById(svgID)){\r\n                d3.select(\"#\"+pathID).attr(\"d\", pathData)  \r\n            }\r\n            \r\n            // If svgID doesn't exist, then add it to the DOM\r\n\r\n            if(!document.getElementById(svgID)){\r\n                //The SVG Container\r\n                const svgSinePlot = d3.select(\"#sinePlotsID\").append(\"svg\")\r\n                .attr(\"id\",svgID)\r\n                .attr(\"width\", svgContainerWidth)\r\n                .attr(\"height\", svgContainerHeight)\r\n                .attr(\"transform\",\"translate(10)\")\r\n                .attr(\"style\",\"position: absolute\")\r\n                .attr(\"style\", \"border: 1px solid black\")\r\n                .attr(\"top\",\"100px\")\r\n                .attr(\"left\",\"50px\")\r\n\r\n                svgSinePlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",400)\r\n                .attr(\"y\",30)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Sine Plot \" + i);\r\n\r\n                //The line SVG Path we draw\r\n                svgSinePlot.append(\"path\")\r\n                .attr(\"id\",pathID)\r\n                .attr(\"transform\",\"translate(50)\")\r\n                .attr(\"d\", pathData)\r\n                .attr(\"stroke\", \"blue\")\r\n                .attr(\"stroke-width\", 2)\r\n                .attr(\"fill\", \"none\")\r\n\r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\",\"translate(0,400)\")\r\n                .call(x_axis);\r\n                \r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\",\"translate(50,0)\")\r\n                .call(y_axis);\r\n            }          \r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport class FrequencyPlot extends React.Component {\r\n\r\n    renderCircle(signal){\r\n        return(\r\n            <Circles\r\n                signal = {signal}\r\n                onMouseDown = {(event) => this.props.onMouseDown(event)}\r\n                onMouseUp = {(event) => this.props.onMouseUp(event)}\r\n                onMouseOut = {(event) => this.props.onMouseUp(event)}\r\n                onMouseMove = {(event) => this.props.onMouseMove(event)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n\r\n    const signals = this.props.signals;\r\n     \r\n        let freqSvg = d3.select(\"#svgFreqPlot\")\r\n\r\n        const circleList = []; \r\n       \r\n        for (let i=0; i < this.props.signals.length; i++){\r\n            circleList.push(\r\n                    this.renderCircle(this.props.signals[i])\r\n            )\r\n        }\r\n        \r\n        // Should probably check both axis if they exist before appending\r\n        if(!document.getElementById(\"x_axis_freqPlot\")){\r\n\r\n            // Create Axis for Frequency Plot\r\n            let xscale_freq = d3.scaleLinear()\r\n                                .domain([-3.5, 3.5]) // This needs to be dynamic\r\n                                .range([50, 750]);\r\n\r\n            let yscale_freq = d3.scaleLinear()\r\n                                .domain([3.5,-3.5]) // This needs to be dynamic\r\n                                .range([50, 750]);\r\n\r\n            // Add scales to axis\r\n            let x_axis_freq = d3.axisBottom()\r\n                                .scale(xscale_freq);\r\n\r\n            let y_axis_freq = d3.axisLeft()\r\n                                .scale(yscale_freq);\r\n            \r\n            freqSvg.append(\"text\")\r\n                    .attr(\"text-anchor\", \"middle\")  \r\n                    .attr(\"x\",400)\r\n                    .attr(\"y\",30)\r\n                    .style(\"font-size\", \"16px\") \r\n                    .style(\"text-decoration\", \"underline\")  \r\n                    .text(\"Frequency Domain Plot\");\r\n                    \r\n            freqSvg.append('g')\r\n                    .attr(\"id\",\"x_axis_freqPlot\")\r\n                    .attr(\"transform\",\"translate(0,400)\")\r\n                    .call(x_axis_freq);\r\n\r\n            freqSvg.append('g')\r\n                    .attr(\"id\",\"y_axis_freqPlot\")\r\n                    .attr(\"transform\",\"translate(400,0)\")\r\n                    .call(y_axis_freq); \r\n        }\r\n\r\n        return( \r\n            <svg>\r\n               {circleList}\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nclass SumPlot extends React.Component {\r\n\r\n    render(){\r\n\r\n        let sumSignals = []; \r\n        let svgContainerHeight = 800;\r\n        let plotWidth = 700;\r\n\r\n        // This will break if we change plotWidth elsewhere \r\n        for(let k = 0; k < plotWidth; k++){\r\n            sumSignals.push([0,0]);\r\n        }\r\n\r\n        // Looping through all the signals\r\n        for (let i=0; i < this.props.signals.length; i++){\r\n\r\n            // Looping through the signal values\r\n            for(let j=0; j < this.props.signals[i].values.length; j++){\r\n\r\n                //sumSignals[j] = this.props.signals[i].values[j];\r\n                sumSignals[j][0] = this.props.signals[i].values[j][0];\r\n                sumSignals[j][1] += this.props.signals[i].values[j][1];\r\n            }\r\n            \r\n        }\r\n\r\n        // There is a way to scale this to the svg dimenesions rather than hardcoding it\r\n        for (let n =0; n < sumSignals.length; n++){\r\n            sumSignals[n][1] = sumSignals[n][1] - (this.props.signals.length-1)*(svgContainerHeight/2)\r\n        }\r\n\r\n        let lineGenerator = d3.line()\r\n          .curve(d3.curveNatural);\r\n\r\n        let pathData = lineGenerator(sumSignals);\r\n\r\n        // Create scale\r\n        let xscale = d3.scaleLinear()\r\n        .domain([0, 2]) // This needs to be dynamic\r\n        .range([50, 750]);\r\n\r\n        let yscale = d3.scaleLinear()\r\n        .domain([3.5,-3.5]) // This needs to be dynamic\r\n        .range([50, 750]);\r\n\r\n        // Add scales to axis\r\n        let x_axis = d3.axisBottom()\r\n        .scale(xscale);\r\n\r\n        let y_axis = d3.axisLeft()\r\n        .scale(yscale);\r\n\r\n        //The line SVG Path we draw\r\n\r\n        // If exists, update\r\n        if(document.getElementById(\"path_Sum\")){\r\n            d3.select(\"#\"+\"path_Sum\").attr(\"d\", pathData)  \r\n               \r\n        }\r\n        \r\n        // Draws path if it doesn't exist\r\n        if(!document.getElementById(\"path_Sum\")){\r\n             d3.select(\"#svgSumPlot\").append(\"path\")\r\n                .attr(\"id\",\"path_Sum\")\r\n                .attr(\"d\", pathData)\r\n                .attr(\"transform\",\"translate(50)\")\r\n                .attr(\"stroke\", \"blue\")\r\n                .attr(\"stroke-width\", 2)\r\n                .attr(\"fill\", \"none\")\r\n\r\n            const svgSumPlot = d3.select(\"#svgSumPlot\")\r\n\r\n                svgSumPlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",400)\r\n                .attr(\"y\",30)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Sum of Signals Plot\");\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\",\"translate(0,400)\")\r\n                .call(x_axis);\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\",\"translate(20,0)\")\r\n                .call(y_axis)\r\n                .attr(\"transform\",\"translate(50,0)\");\r\n                \r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class FrequencyDomain extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            signals: [\r\n                /* Example signal object \r\n                    {\r\n                    id: 0,\r\n                    amplitude: 1,\r\n                    frequency: 1,\r\n                    values: this.generateSignal(1,1),\r\n                    dragging: false,    \r\n                    },\r\n                */\r\n            ],\r\n            circles:[\r\n            ],\r\n        };\r\n        // This binding is necessary to make `this.` work in the callback   \r\n        this.handleMouseDown = this.handleMouseDown.bind(this);\r\n        this.handleMouseUp = this.handleMouseUp.bind(this);\r\n        this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    }\r\n    \r\n    addSignal(){\r\n        const signals = this.state.signals;\r\n\r\n        // Once this.setState has been called, it'll call render() to render straight away\r\n        this.setState({\r\n            signals: signals.concat([{  // Just concatenating array of JSON\r\n                id: signals.length,\r\n                amplitude: 0,           // Should be user input\r\n                frequency: 0,           // Should be user input\r\n                phase: 0,\r\n                values: this.generateSignal(0,0,0),\r\n                dragging: false,    \r\n            },]),\r\n        });        \r\n\r\n\r\n    }\r\n\r\n    removeSignal(i){\r\n        // Need to find signal id from the array and delete, then re-update id's\r\n        const signals = this.state.signals;\r\n\r\n\r\n        console.log(\"Hi from removeSignal\");    \r\n        console.log(i)\r\n        console.log(\"Before: \", signals);\r\n        signals.splice(i,1)\r\n        console.log(\"After:\", signals);\r\n\r\n        for(let n = 0; n< this.state.signals.length; n++){\r\n            signals[n].id = n;\r\n        }        \r\n\r\n        // Find the svgId and pathID and delete from DOM\r\n\r\n        let svgID  = 'svg_'\r\n        let pathID = 'path_'\r\n        svgID = svgID.concat(i.toString(10))\r\n        pathID = pathID.concat(i.toString(10))\r\n\r\n        d3.select(\"#\"+svgID).remove();\r\n\r\n        this.setState({\r\n            signals: signals,\r\n        });\r\n        console.log(this.state.signals);\r\n\r\n    \r\n    }\r\n\r\n    generateSignal(amplitude, frequency, phase){\r\n        // Generating path data\r\n        let points = [];\r\n        const plotHeight = 700;\r\n        const plotWidth = 700;\r\n        let scale = -100;\r\n        let x_offset = 0;\r\n        let y_offset = 50;\r\n\r\n        let Fs = 80;\r\n        let Ts = Math.PI / 200;\r\n\r\n        /* Calculation Reference\r\n        // 1 period = 1 second\r\n        // 1 period = 400 pixels => Ts = 400 samples per second\r\n        // 1 Hz = 2pi radians\r\n\r\n        // Sampling frequency = samples/second\r\n        // 1 sample per 1/400 second (Ts = 1/400)\r\n        // Fs = 2pi * (1/400)\r\n        // Fs = pi / 200\r\n\r\n        // Frequency is in Hz\r\n        // This is bascially an inverse FFT \r\n        // i is basically our t (1 unit of time)\r\n        */\r\n        for(let i = x_offset; i< plotWidth; i++)\r\n        {\r\n            points[i] = [i, scale*amplitude*Math.sin(Ts*frequency*i + (phase * (Math.PI / 180) )) + (plotHeight/2 + y_offset)];\r\n        }\r\n        return points;\r\n    }\r\n\r\n    updateDials(){\r\n        const signals = this.state.signals;\r\n\r\n        for(let i = 0; i< signals.length; i++){\r\n            document.getElementById(\"signal\" + signals[i].id + \"_AmpText\").value = signals[i].amplitude;\r\n            document.getElementById(\"signal\" + signals[i].id + \"_FreqText\").value = signals[i].frequency;\r\n        }\r\n    }\r\n\r\n    handleChange(event){\r\n\r\n\r\n        const signals = this.state.signals;\r\n        const inputType = event.target.getAttribute('input_type');\r\n        const signalID = event.target.getAttribute('signal_id'); // Signal ID Number\r\n        let value = parseFloat(event.target.value);   \r\n\r\n        // Text Form can currently exceed the maximum limit of 10, should limit?\r\n\r\n        if((inputType === \"AmpDial\") || (inputType === \"AmpText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].amplitude = value;                 \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_AmpText\").value = value;\r\n            }\r\n        }\r\n        else if ((inputType === \"FreqDial\") || (inputType === \"FreqText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].frequency = value; \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_FreqText\").value = value;\r\n            }\r\n        } \r\n        else if ((inputType === \"PhaseDial\") || (inputType === \"PhaseText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].phase = value; \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_PhaseText\").value = value;\r\n            }\r\n        }     \r\n\r\n        this.setState({\r\n                signals: signals,   \r\n            }   \r\n        );\r\n\r\n    }\r\n\r\n    \r\n    handleMouseDown(e){\r\n        console.log(\"clicked\")\r\n\r\n        e.preventDefault();\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n\r\n        signals[signalID].dragging = true;\r\n\r\n        this.setState({\r\n            signals: signals,   \r\n            }\r\n        );   \r\n    }\r\n\r\n    handleMouseUp(e){\r\n        console.log(\"click released\")\r\n\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n        console.log(e.type)\r\n        if(e.type == 'mouseout' && signals[signalID].dragging) {\r\n            console.log(\"mouse went out\")\r\n            return;\r\n        }\r\n\r\n        signals[signalID].dragging = false;\r\n        \r\n        this.setState({\r\n            signals: signals,   \r\n            }\r\n        );\r\n        \r\n    }\r\n\r\n    handleMouseMove(e) {\r\n\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n\r\n        //If we are dragging\r\n          if (signals[signalID].dragging) {\r\n              e.preventDefault();\r\n\r\n              console.log(e)\r\n              console.log(e.target)\r\n              console.log(\"clientX:\",e.clientX)\r\n              console.log(\"clientY:\",e.clientY)\r\n              // console.log(e.target.parentNode.parentNode)\r\n            let  rect = e.target.parentNode.parentNode.getBoundingClientRect();  \r\n\r\n            console.log(rect.left);\r\n            console.log(rect.top);\r\n\r\n\r\n            // Maybe should seperate coordinates and freq/amp values\r\n             signals[signalID].frequency = (e.clientX - rect.left - 400) / 100;\r\n             signals[signalID].amplitude = - (e.clientY - rect.top - 400) / 100;\r\n             signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n\r\n\r\n            // We should set position limits\r\n\r\n            console.log(signals[signalID].frequency)\r\n            console.log(signals[signalID].amplitude)\r\n\r\n            console.log(this)\r\n\r\n            this.setState({\r\n                signals: signals,   \r\n                }\r\n            );  \r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n    const current = this.state.signals;\r\n\r\n    return (\r\n            <div className = {styles.container}>\r\n\r\n                <div className = {styles.sinePlots} id =\"sinePlotsID\">\r\n                    <SinePlot\r\n                        signals = {current}\r\n                    />\r\n                </div>\r\n\r\n                <div className = {styles.otherPlots}>\r\n                    <div className = {styles.freqPlots} id =\"freqPlotsID\">\r\n                        <svg id=\"svgFreqPlot\" width=\"800\" height=\"800\"  \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black',\r\n                                \r\n                                }}> \r\n                        \r\n                            <FrequencyPlot\r\n                                signals = {current}\r\n                                onMouseDown = {(event) => this.handleMouseDown(event)}\r\n                                onMouseUp = {(event) => this.handleMouseUp(event)}\r\n                                onMouseOut = {(event) => this.handleMouseUp(event)}\r\n                                onMouseMove = {(event) => this.handleMouseMove(event)}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n\r\n                    <div className = {styles.sumPlots} id =\"sumPlotsID\">\r\n                        <svg id=\"svgSumPlot\" width=\"800\" height=\"800\" \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black'\r\n                                }}> \r\n                            <SumPlot\r\n                                signals = {current}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n                <div className = {styles.controls}>\r\n                    \r\n                        <Controls\r\n                            signals = {current}\r\n                            onChange = {(event) => this.handleChange(event)}\r\n                            onAdd = {() => this.addSignal()}\r\n                            onRemove = {(i) => this.removeSignal(i)}\r\n                        />\r\n                    \r\n                </div>\r\n            </div>\r\n      );\r\n    }\r\n  }"]},"metadata":{},"sourceType":"module"}