{"version":3,"sources":["FourierCoefficients.module.css","FourierCoefficients.js","FrequencyDomain.js","App.js","serviceWorker.js","index.js","FrequencyDomain.module.css","App.module.css"],"names":["module","exports","Dials","props","Grid","id","concat","signal","toString","signal_id","className","styles","signal_container","signal_info","Tooltip","title","IconButton","aria-label","color","Box","component","m","p","bgcolor","Button","onClick","signalID","onRemove","variant","signal_props","amplitude","toFixed","input_type","type","min","max","value","step","onChange","phase","d3","prototype","moveToFront","this","each","parentNode","appendChild","moveToBack","firstChild","insertBefore","Controls","event","i","onAnimate","signalList","signals","length","push","key","renderDial","dials","global_controls","align-content","onAdd","style","gridRow","name","demoSignal","onDemoSignal","FormControlLabel","label","labelPlacement","control","Switch","checked","plotViewState","onToggleView","inputProps","gridColumn","alignItems","justifyContent","plotView","React","Component","FourierCirclesMagPos","strokeWidth","divHeight","document","getElementById","getBoundingClientRect","height","divWidth","width","plotHeight","plotWidth","highlight","radius","fourierMultiples","fourierCircles","cx","cy","transform","r","fill","colour","stroke","FourierCirclesMagNeg","FourierCirclesPhasePos","FourierCirclesPhaseNeg","FourierMagPlot","FourierMagSvg","remove","xscale_freq","domain","range","yscale_freq","xAxisTicks","ticks","filter","tick","Number","isInteger","yAxisTicks","x_axis_freq","tickValues","tickFormat","y_axis_freq","append","attr","call","text","drawAxis","circleList","renderCirclePos","renderCircleNeg","FourierPhasePlot","SinePlot","svgSinePlot","xscale","yscale","x_axis","scale","y_axis","pathData","curve","lineGenerator","values","pathID","SumPlot","svgSumPlot","sumSignals","k","j","n","FourierCoefficients","state","handleMouseDown","bind","handleMouseUp","handleMouseMove","handleMouseOverFourier","handleMouseMoveFourierMag","handleMouseMoveFourierPhase","handleMouseOverSignalControls","handleDemoSignal","redrawSignal","intensity","frequency","generateSignal","draggingMag","draggingPhasePos","draggingPhaseNeg","rgb","animating","newSignal","splice","setState","index","console","log","generateDC","requestAnimationFrame","animatingID","cancelAnimationFrame","points","Ts","Math","PI","cos","inputType","target","getAttribute","parseInt","parseFloat","isNaN","e","preventDefault","stopPropagation","elementID","includes","circleID","dragging","clientX","clientY","rect","left","top","circleCX","condition","signalControlID","opacity","emptyPlots","alternate","pow","current","container","timePlots","sinePlots","position","border","sumPlots","otherPlots","fourierMagPlots","onMouseDown","onMouseUp","onMouseMove","onMouseOver","fourierPhasePlots","controls","handleChange","addSignal","removeSignal","animateSignal","toggleView","signal_dials","Circles","onMouseOut","svgID","FrequencyPlot","freqSvg","renderCircle","App","Typography","navbar","tab","to","exact","path","About","centertext","Home","ReactDOM","render","Boolean","window","location","hostname","match","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f0859688.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"FourierCoefficients_home__10kQG\",\"container\":\"FourierCoefficients_container__kd25g\",\"navbar\":\"FourierCoefficients_navbar__2pTv4\",\"tab\":\"FourierCoefficients_tab__8pHCY\",\"controls\":\"FourierCoefficients_controls___EOHp\",\"dials\":\"FourierCoefficients_dials__1zijK\",\"global_controls\":\"FourierCoefficients_global_controls__1LP2r\",\"signal_container\":\"FourierCoefficients_signal_container__1Of7C\",\"signal_info\":\"FourierCoefficients_signal_info__2oYZ9\",\"signal_props\":\"FourierCoefficients_signal_props__1Kcya\",\"signal_dials\":\"FourierCoefficients_signal_dials__kLbm8\",\"signal_animate\":\"FourierCoefficients_signal_animate__2qmfm\",\"timePlots\":\"FourierCoefficients_timePlots__vs39U\",\"sinePlots\":\"FourierCoefficients_sinePlots__NqB9U\",\"otherPlots\":\"FourierCoefficients_otherPlots__AqeTC\",\"fourierMagPlots\":\"FourierCoefficients_fourierMagPlots__1Fesw\",\"fourierPhasePlots\":\"FourierCoefficients_fourierPhasePlots__3rZM3\",\"sumPlots\":\"FourierCoefficients_sumPlots__DMOR_\",\"fourierCircles\":\"FourierCoefficients_fourierCircles__2jYlh\"};","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styles from './FourierCoefficients.module.css'; \r\nimport * as d3 from \"d3\";\r\nimport { hsl, nest } from 'd3';\r\nimport { rgb } from 'd3';\r\n\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport { palette } from '@material-ui/system';\r\n\r\n\r\n// Prototype functions to move signals elements front and back when hovered\r\nd3.selection.prototype.moveToFront = function() {\r\n    return this.each(function(){\r\n      this.parentNode.appendChild(this);\r\n    });\r\n  };\r\n\r\nd3.selection.prototype.moveToBack = function() {\r\n    return this.each(function() {\r\n        let firstChild = this.parentNode.firstChild;\r\n        if (firstChild) {\r\n            this.parentNode.insertBefore(this, firstChild);\r\n        }\r\n    });\r\n};\r\n\r\nfunction Dials(props) {\r\n\r\n    const toolTipText = \"Try adjusting the Amplitude or Phase!\"\r\n\r\n    return(\r\n        <Grid\r\n        id={'signal-controls-'.concat(props.signal.id.toString())} \r\n        signal_id = {props.signal.id}\r\n        className={styles.signal_container}\r\n        >\r\n            <div className={styles.signal_info}>\r\n\r\n            <Tooltip title={toolTipText}>\r\n                <IconButton aria-label=\"Help\" color=\"secondary\">\r\n                    <HelpIcon />\r\n                </IconButton>\r\n            </Tooltip>\r\n                \r\n                <Box component=\"div\" m={0.5} p={1} bgcolor=\"primary.main\">\r\n                    Fundamental Frequency Multiple: {props.signal.id}\r\n                </Box>\r\n                <Button \r\n                    id = \"remove-signal\" \r\n                    onClick={(signalID) => props.onRemove(props.signal.id)}\r\n                    variant=\"contained\"\r\n                    m={1}\r\n                    p={1} \r\n                    color=\"secondary\"\r\n                > \r\n                Remove Signal \r\n                </Button>\r\n\r\n            </div>\r\n            <Box \r\n            component=\"div\" \r\n            m={0.5} \r\n            p={1} \r\n            bgcolor=\"primary.main\" \r\n            color=\"primary.contrastText\"\r\n            className={styles.signal_props}\r\n            >\r\n                <div className={styles.signal_props}>\r\n                    <div>Amplitude: {props.signal.amplitude.toFixed(2)}</div>\r\n                </div>\r\n                <div className = {styles.signal_props}>\r\n                    <div>\r\n                        <input \r\n                        id = {\"signal\" + props.signal.id + \"_AmpDial\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"AmpDial\"}\r\n                        type =\"range\" \r\n                        min={0} \r\n                        max ={4} \r\n                        value = {props.signal.amplitude} \r\n                        step={0.1}\r\n                        onChange={props.onChange}\r\n                        /> \r\n\r\n                        <input\r\n                        id = {\"signal\" + props.signal.id + \"_AmpText\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"AmpText\"}\r\n                        type = \"number\"  \r\n                        min = {0}\r\n                        max = {4}\r\n                        onChange={props.onChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </Box>\r\n\r\n            <Box \r\n            component=\"div\" \r\n            m={0.5} \r\n            p={1} \r\n            bgcolor=\"primary.main\" \r\n            color=\"primary.contrastText\"\r\n            className={styles.signal_props}\r\n            >\r\n                <div className={styles.signal_props}>\r\n                    <div>Phase: {props.signal.phase}</div>\r\n                </div>\r\n                <div className={styles.signal_props}>\r\n                    <div>\r\n                        <input \r\n                            id = {\"signal\" + props.signal.id + \"_PhaseDial\" }\r\n                            signal_id = {props.signal.id}\r\n                            input_type = {\"PhaseDial\"}\r\n                            type =\"range\" \r\n                            min={-180} \r\n                            max ={180} \r\n                            value = {props.signal.phase} \r\n                            step={1}\r\n                            onChange={props.onChange}\r\n                        /> \r\n                        <input\r\n                            id = {\"signal\" + props.signal.id + \"_PhaseText\" }\r\n                            signal_id = {props.signal.id}\r\n                            input_type = {\"PhaseText\"}\r\n                            type = \"number\"  \r\n                            min = {-180}\r\n                            max = {180}\r\n                            onChange={props.onChange}\r\n                        />\r\n                    </div>        \r\n                </div>\r\n            </Box>\r\n\r\n            \r\n        </Grid>\r\n    );\r\n}\r\n\r\n/*\r\n<div className={styles.signal_animate}>\r\n                <button id = \"animate-signal\" align-content = \"center\" onClick={(signalID) => props.onAnimate(props.signal.id)}> Animate Signal </button>\r\n            </div>\r\n*/\r\n\r\nclass Controls extends React.Component {\r\n\r\n    renderDial(signal){\r\n        return(\r\n            <Dials\r\n                signal = {signal}\r\n                onChange = {(event) => this.props.onChange(event)}\r\n                onRemove = {(i) => this.props.onRemove(i)}\r\n                onAnimate = {(i) => this.props.onAnimate(i)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n        const signalList = []; \r\n        for (let i=0; i < this.props.signals.length; i++){\r\n            signalList.push(\r\n                <div key={\"signal\" + this.props.signals[i].id}> \r\n                    {this.renderDial(this.props.signals[i])} \r\n                </div>\r\n            )\r\n        }\r\n        const toolTipText = \"Try adding a New Signal or Demo Signal!\"\r\n        return(\r\n            <div className = {styles.dials} >\r\n                <div className = {styles.global_controls}>\r\n\r\n                    <Tooltip title={toolTipText}>\r\n                        <IconButton aria-label=\"Help\" color=\"primary\">\r\n                            <HelpIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n\r\n                    <Button \r\n                        id = \"add-signal\" \r\n                        align-content = \"center\" \r\n                        onClick={() => this.props.onAdd(0, 0)}\r\n                        variant=\"contained\" \r\n                        color=\"primary\"\r\n                    > \r\n                        Add New Signal \r\n                    </Button>\r\n                    <div style={{gridRow: \"2\"}}> Try a demo signal </div>\r\n                    <select name=\"demoSignal\" id=\"demoSignal\" \r\n                        value = {this.props.demoSignal}\r\n                        onChange = {(event) => this.props.onDemoSignal(event)}\r\n                        style={{gridRow: \"2\"}}>\r\n                        <option value =\"select\">- Select -</option>\r\n                        <option value =\"empty\">Empty</option>\r\n                        <option value=\"cosine\">Cosine Wave</option>\r\n                        <option value=\"triangle\">Triangle Wave</option>\r\n                        <option value=\"square\">Square Wave Approx</option>\r\n                        <option value=\"sawtooth\">Sawtooth Wave Approx</option>\r\n                    </select>\r\n\r\n                    <div id=\"toggle-view\" style = {{gridRow:\"3\"}} >\r\n                        <FormControlLabel\r\n                            label=\"Toggle View\"\r\n                            labelPlacement = \"Start\"\r\n                            control={\r\n                                <Switch\r\n                                    checked={this.props.plotViewState}\r\n                                    onClick={(event) => this.props.onToggleView(event)}\r\n                                    name=\"toggleViewSwitch\"\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            }\r\n                        />\r\n                         \r\n                    </div>\r\n                    <Box \r\n                        style = {{gridRow:\"3\", gridColumn:\"2\"}} \r\n                        bgcolor=\"primary.main\" \r\n                        color=\"white\" m={1}\r\n                        alignItems=\"center\"\r\n                        justifyContent=\"center\"\r\n                    >\r\n                        {this.props.plotView}\r\n                    </Box>\r\n                   \r\n                </div>\r\n\r\n                {signalList} \r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction FourierCirclesMagPos(props) {\r\n    let divHeight = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().height;\r\n    let divWidth = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().width;\r\n    let plotHeight = 0.8*divHeight;\r\n    let plotWidth = 0.8*divWidth;\r\n\r\n    let strokeWidth\r\n    if(props.signal.highlight){\r\n        strokeWidth = \"2\" \r\n    }\r\n    else{\r\n        strokeWidth = \"1\" \r\n    }\r\n\r\n    let radius = 10;\r\n    if((plotWidth / (5 * props.fourierMultiples)) < 10){\r\n        radius = plotWidth / (5 * props.fourierMultiples)\r\n    }\r\n\r\n    return(\r\n        <circle\r\n            className ={styles.fourierCircles}\r\n            id = {\"circle_mag_\"+props.signal.id}\r\n            signal_id = {props.signal.id}\r\n            cx = {(props.signal.id)*(plotWidth/ (props.fourierMultiples * 2))}\r\n            cy = {(props.signal.amplitude)*(plotHeight/8)}\r\n            transform={\"translate(\" + divWidth/2 +\",\" + divHeight/2 +\") scale(1,-1)\"}\r\n            r = {radius}\r\n            fill = {props.signal.colour}\r\n            stroke = \"black\"\r\n            strokeWidth= {strokeWidth}\r\n        />\r\n    );\r\n}\r\n\r\nfunction FourierCirclesMagNeg(props) {\r\n    let divHeight = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().height;\r\n    let divWidth = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().width;\r\n    let plotHeight = 0.8*divHeight;\r\n    let plotWidth = 0.8*divWidth;\r\n\r\n    let strokeWidth\r\n    if(props.signal.highlight){\r\n        strokeWidth = \"2\" \r\n    }\r\n    else{\r\n        strokeWidth = \"1\" \r\n    }\r\n\r\n    let radius = 10;\r\n    if((plotWidth / (5 * props.fourierMultiples)) < 10){\r\n        radius = plotWidth / (5 * props.fourierMultiples)\r\n    }\r\n\r\n    return(\r\n        <circle\r\n            id = {\"circle_mag_-\"+props.signal.id}\r\n            signal_id = {props.signal.id}\r\n            cx = {(props.signal.id)*-(plotWidth/(props.fourierMultiples * 2))} // 8 is because our x-axis is divided into 8 sections \r\n            cy = {(props.signal.amplitude)*(plotHeight/8)}\r\n            transform={\"translate(\" + divWidth/2 +\",\" + divHeight/2 +\") scale(1,-1)\"}\r\n            r = {radius}\r\n            fill = {props.signal.colour}\r\n            stroke = \"black\"\r\n            strokeWidth={strokeWidth}\r\n        />\r\n    );\r\n}\r\n\r\nfunction FourierCirclesPhasePos(props) {\r\n    let divHeight = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().height;\r\n    let divWidth = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().width;\r\n    let plotHeight = 0.8*divHeight;\r\n    let plotWidth = 0.8*divWidth;\r\n\r\n    let strokeWidth\r\n    if(props.signal.highlight){\r\n        strokeWidth = \"2\" \r\n    }\r\n    else{\r\n        strokeWidth = \"1\" \r\n    }\r\n\r\n    let radius = 10;\r\n    if((plotWidth / (5 * props.fourierMultiples)) < 10){\r\n        radius = plotWidth / (5 * props.fourierMultiples)\r\n    }\r\n\r\n    return(\r\n        <circle\r\n            id = {\"circle_phase_+\"+props.signal.id}\r\n            signal_id = {props.signal.id}\r\n            cx = {(props.signal.id)*(plotWidth/ (props.fourierMultiples * 2))} \r\n            cy = {(props.signal.phase)*(plotHeight/360)}\r\n            transform={\"translate(\" + divWidth/2 +\",\" + divHeight/2 +\") scale(1,-1)\"}\r\n            r = {radius}\r\n            fill = {props.signal.colour}\r\n            stroke = \"black\"\r\n            strokeWidth={strokeWidth}\r\n        />\r\n    );\r\n}\r\n\r\nfunction FourierCirclesPhaseNeg(props) {\r\n    let divHeight = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().height;\r\n    let divWidth = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().width;\r\n    let plotHeight = 0.8*divHeight;\r\n    let plotWidth = 0.8*divWidth;\r\n\r\n    let strokeWidth\r\n    if(props.signal.highlight){\r\n        strokeWidth = \"2\" \r\n    }\r\n    else{\r\n        strokeWidth = \"1\" \r\n    }\r\n\r\n    let radius = 10;\r\n    if((plotWidth / (5 * props.fourierMultiples)) < 10){\r\n        radius = plotWidth / (5 * props.fourierMultiples)\r\n    }\r\n\r\n    return(\r\n        <circle\r\n            id = {\"circle_phase_-\"+props.signal.id}\r\n            signal_id = {props.signal.id}\r\n            cx = {(props.signal.id)*-(plotWidth/ (props.fourierMultiples * 2))} \r\n            cy = {-(props.signal.phase)*(plotHeight/360)}\r\n            transform={\"translate(\" + divWidth/2 +\",\" + divHeight/2 +\") scale(1,-1)\"}\r\n            r = {radius}\r\n            fill = {props.signal.colour}\r\n            stroke = \"black\"\r\n            strokeWidth={strokeWidth}\r\n        />\r\n    );\r\n}\r\n\r\nclass FourierMagPlot extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.height = 0;\r\n        this.width = 0;\r\n    }\r\n\r\n    drawAxis(height, width, fourierMultiples){\r\n\r\n        let FourierMagSvg = d3.select(\"#svgFourierMagPlot\")\r\n\r\n        // if axis exists but we are redrawing\r\n        if(document.getElementById(\"x_axis_fourierMagPlot\") || document.getElementById(\"y_axis_fourierMagPlot\")){\r\n\r\n            // remove current axis\r\n            d3.select(\"#x_axis_fourierMagPlot\").remove();\r\n            d3.select(\"#y_axis_fourierMagPlot\").remove();\r\n        }\r\n\r\n            // Drawing new axis\r\n\r\n            // Create Axis for Frequency Plot\r\n            let xscale_freq = d3.scaleLinear()\r\n                    .domain([-fourierMultiples, fourierMultiples]) // This needs to be dynamic\r\n                    .range([ (1/10)*width, (9/10)*width ]);\r\n\r\n            let yscale_freq = d3.scaleLinear()\r\n                    .domain([4,0]) // This needs to be dynamic\r\n                    .range([ (1/10)*height, (5/10)*height ]);\r\n\r\n            // Add scales to axis\r\n            const xAxisTicks = xscale_freq.ticks()\r\n                                     .filter(tick => Number.isInteger(tick));\r\n\r\n            const yAxisTicks = yscale_freq.ticks()\r\n                                     .filter(tick => Number.isInteger(tick))                         \r\n \r\n            let x_axis_freq = d3.axisBottom(xscale_freq)\r\n             .tickValues(xAxisTicks)\r\n             .tickFormat(d3.format(\"d\"));\r\n\r\n            let y_axis_freq = d3.axisLeft(yscale_freq)\r\n             .tickValues(yAxisTicks)\r\n             .tickFormat(d3.format(\"d\"));\r\n            \r\n\r\n            FourierMagSvg.append('g')\r\n                         .attr(\"id\",\"x_axis_fourierMagPlot\")\r\n                         .attr(\"transform\",\"translate(0,\" + this.height/2 + \")\")\r\n                         .attr(\"pointer-events\", \"none\")\r\n                         .call(x_axis_freq)\r\n\r\n            FourierMagSvg.append('g')\r\n                         .attr(\"id\",\"y_axis_fourierMagPlot\")\r\n                         .attr(\"transform\",\"translate(\" + this.width/2 + \",0)\")\r\n                         .attr(\"pointer-events\", \"none\")\r\n                         .call(y_axis_freq); \r\n        \r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        // Get dimensions when DOM is loaded\r\n        this.height = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().width;\r\n\r\n        let FourierMagSvg = d3.select(\"#svgFourierMagPlot\")\r\n\r\n        FourierMagSvg.append(\"text\")\r\n                         .attr(\"id\",\"fourierMagPlotTitleText\")\r\n                         .attr(\"text-anchor\", \"middle\")  \r\n                         .attr(\"x\",this.width/2)\r\n                         .attr(\"y\",this.height/20)\r\n                         .style(\"font-size\", \"16px\") \r\n                         .style(\"text-decoration\", \"underline\")  \r\n                         .text(\"Fourier Magnitude Plot\");\r\n\r\n        // First drawing of the axis (default view of 4 terms)\r\n        this.drawAxis(this.height, this.width, this.props.fourierMultiples);\r\n        \r\n    }\r\n\r\n    componentDidUpdate(){\r\n        // Get dimensions when DOM is updated\r\n        this.height = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().width;\r\n\r\n        d3.select(\"#fourierMagPlotTitleText\").remove();\r\n        \r\n        let FourierMagSvg = d3.select(\"#svgFourierMagPlot\")\r\n\r\n        FourierMagSvg.append(\"text\")\r\n                         .attr(\"id\",\"fourierMagPlotTitleText\")\r\n                         .attr(\"text-anchor\", \"middle\")  \r\n                         .attr(\"x\",this.width/2)\r\n                         .attr(\"y\",this.height/20)\r\n                         .style(\"font-size\", \"16px\") \r\n                         .style(\"text-decoration\", \"underline\")  \r\n                         .text(\"Fourier Magnitude Plot\");\r\n\r\n        // First drawing of the axis (default view of 4 terms)\r\n        this.drawAxis(this.height, this.width, this.props.fourierMultiples);\r\n        \r\n    }\r\n\r\n    renderCirclePos(signal, fourierMultiples){\r\n        return(\r\n            <FourierCirclesMagPos\r\n                signal = {signal}\r\n                fourierMultiples = {fourierMultiples}\r\n            />\r\n        );\r\n    }\r\n\r\n    renderCircleNeg(signal, fourierMultiples){\r\n        return(\r\n            <FourierCirclesMagNeg\r\n                signal = {signal}\r\n                fourierMultiples = {fourierMultiples}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n\r\n        const signals = this.props.signals;\r\n        const fourierMultiples = this.props.fourierMultiples;\r\n\r\n        this.drawAxis(this.height, this.width, fourierMultiples)\r\n\r\n           const circleList = [];\r\n          \r\n           for (let i=0; i < signals.length; i++){\r\n                // Render DC term\r\n                if(signals[i].id === 0){\r\n                    circleList.push(\r\n                        this.renderCirclePos(signals[i], fourierMultiples) \r\n                    )\r\n                }\r\n                // Render all other Fourier Terms\r\n                else{\r\n                    circleList.push(\r\n                        this.renderCirclePos(signals[i], fourierMultiples),\r\n                        this.renderCircleNeg(signals[i], fourierMultiples)\r\n                    )\r\n                }\r\n           }                    \r\n   \r\n           return( \r\n               <svg>\r\n                  {circleList}\r\n               </svg>\r\n           );\r\n       }\r\n}\r\n\r\nclass FourierPhasePlot extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.height = 0;\r\n        this.width = 0;\r\n    }\r\n\r\n    drawAxis(height, width, fourierMultiples){\r\n\r\n        let FourierMagSvg = d3.select(\"#svgFourierPhasePlot\")\r\n\r\n        // if axis exists but we are redrawing\r\n        if(document.getElementById(\"x_axis_fourierPhasePlot\") || document.getElementById(\"y_axis_fourierPhasePlot\")){\r\n\r\n            // remove current axis\r\n            d3.select(\"#x_axis_fourierPhasePlot\").remove();\r\n            d3.select(\"#y_axis_fourierPhasePlot\").remove();\r\n        }\r\n\r\n            // Drawing new axis\r\n\r\n            // Create Axis for Frequency Plot\r\n            let xscale_freq = d3.scaleLinear()\r\n                    .domain([-fourierMultiples, fourierMultiples]) // This needs to be dynamic\r\n                    .range([ (1/10)*width, (9/10)*width ]);\r\n\r\n            let yscale_freq = d3.scaleLinear()\r\n                    .domain([180,-180]) // This needs to be dynamic\r\n                    .range([ (1/10)*height, (9/10)*height ]);\r\n\r\n            // Add scales to axis\r\n            const xAxisTicks = xscale_freq.ticks()\r\n                                     .filter(tick => Number.isInteger(tick));\r\n\r\n            const yAxisTicks = yscale_freq.ticks()\r\n                                     .filter(tick => Number.isInteger(tick))                         \r\n \r\n            let x_axis_freq = d3.axisBottom(xscale_freq)\r\n             .tickValues(xAxisTicks)\r\n             .tickFormat(d3.format(\"d\"));\r\n\r\n            let y_axis_freq = d3.axisLeft(yscale_freq)\r\n             .tickValues(yAxisTicks)\r\n             .tickFormat(d3.format(\"d\"));\r\n            \r\n\r\n            FourierMagSvg.append('g')\r\n                         .attr(\"id\",\"x_axis_fourierPhasePlot\")\r\n                         .attr(\"transform\",\"translate(0,\" + this.height/2 + \")\")\r\n                         .attr(\"pointer-events\", \"none\")\r\n                         .call(x_axis_freq)\r\n\r\n            FourierMagSvg.append('g')\r\n                         .attr(\"id\",\"y_axis_fourierPhasePlot\")\r\n                         .attr(\"transform\",\"translate(\" + this.width/2 + \",0)\")\r\n                         .attr(\"pointer-events\", \"none\")\r\n                         .call(y_axis_freq); \r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        // Get dimensions when DOM is loaded\r\n        this.height = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect().width;\r\n\r\n        let FourierPhaseSvg = d3.select(\"#svgFourierPhasePlot\")\r\n\r\n        FourierPhaseSvg.append(\"text\")\r\n                         .attr(\"id\",\"fourierPhasePlotTitleText\")\r\n                         .attr(\"text-anchor\", \"middle\")  \r\n                         .attr(\"x\",this.width/2)\r\n                         .attr(\"y\",this.height/20)\r\n                         .style(\"font-size\", \"16px\") \r\n                         .style(\"text-decoration\", \"underline\")  \r\n                         .text(\"Fourier Phase Plot\");\r\n\r\n        // First drawing of the axis (default view of 4 terms)\r\n        this.drawAxis(this.height, this.width, this.props.fourierMultiples);\r\n        \r\n    }\r\n\r\n    componentDidUpdate(){\r\n        // Get dimensions when DOM is updated\r\n        this.height = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect().width;\r\n\r\n        d3.select(\"#fourierPhasePlotTitleText\").remove();\r\n        \r\n        let FourierPhaseSvg = d3.select(\"#svgFourierPhasePlot\")\r\n\r\n        FourierPhaseSvg.append(\"text\")\r\n                         .attr(\"id\",\"fourierPhasePlotTitleText\")\r\n                         .attr(\"text-anchor\", \"middle\")  \r\n                         .attr(\"x\",this.width/2)\r\n                         .attr(\"y\",this.height/20)\r\n                         .style(\"font-size\", \"16px\") \r\n                         .style(\"text-decoration\", \"underline\")  \r\n                         .text(\"Fourier Phase Plot\");\r\n\r\n        // First drawing of the axis (default view of 4 terms)\r\n        this.drawAxis(this.height, this.width, this.props.fourierMultiples);\r\n        \r\n    }\r\n\r\n    renderCirclePos(signal, fourierMultiples){\r\n        return(\r\n            <FourierCirclesPhasePos\r\n                signal = {signal}\r\n                fourierMultiples = {fourierMultiples}\r\n            />\r\n        );\r\n    }\r\n\r\n    renderCircleNeg(signal, fourierMultiples){\r\n        return(\r\n            <FourierCirclesPhaseNeg\r\n                signal = {signal}\r\n                fourierMultiples = {fourierMultiples}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n\r\n        const signals = this.props.signals;\r\n        const fourierMultiples = this.props.fourierMultiples;\r\n\r\n        this.drawAxis(this.height, this.width, fourierMultiples)\r\n    \r\n           const circleList = []; \r\n           \r\n           for (let i=0; i < this.props.signals.length; i++){\r\n\r\n                if(i ===0){\r\n                    circleList.push(\r\n                        this.renderCirclePos(this.props.signals[i], fourierMultiples) \r\n                    )\r\n                }\r\n                else{\r\n                    circleList.push(\r\n                        this.renderCirclePos(this.props.signals[i], fourierMultiples),\r\n                        this.renderCircleNeg(this.props.signals[i], fourierMultiples)\r\n                    )\r\n                }\r\n               \r\n           }\r\n   \r\n           return( \r\n               <svg>\r\n                  {circleList}\r\n               </svg>\r\n           );\r\n       }\r\n}\r\n\r\n\r\nclass SinePlot extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.height = 0;\r\n        this.width = 0;\r\n    }\r\n\r\n    componentDidMount(){\r\n        // Only get dimensions when DOM is loaded\r\n        this.height = document.getElementById(\"sinePlotsID\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"sinePlotsID\").getBoundingClientRect().width;\r\n\r\n        const svgSinePlot = d3.select(\"#svgSinePlot\")\r\n\r\n         // Create scale\r\n        let xscale = d3.scaleLinear()\r\n                        .domain([0, 2]) // This needs to be dynamic\r\n                        .range([ (1/10)*this.width, (9/10)*this.width ]);\r\n\r\n        let yscale = d3.scaleLinear()\r\n                        .domain([4,-4]) // This needs to be dynamic\r\n                        .range([ (1/10)*this.height, (9/10)*this.height ]);\r\n\r\n        // Add scales to axis\r\n        let x_axis = d3.axisBottom()\r\n                        .scale(xscale);\r\n\r\n        let y_axis = d3.axisLeft()\r\n                        .scale(yscale);\r\n\r\n        svgSinePlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",this.width/2)\r\n                .attr(\"y\",this.height/20)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Cosine Plots\");\r\n\r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\", \"translate(0,\" + this.height/2 + \")\")\r\n                .attr(\"pointer-events\", \"none\")\r\n                .call(x_axis);\r\n\r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\",\"translate(\" + (1/10)*this.width + \",0)\")\r\n                .attr(\"pointer-events\", \"none\")\r\n                .call(y_axis)\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const signals = this.props.signals;\r\n    \r\n        // \"Overlay all sine plots into one graph\" version\r\n        for(let i = 0; i < signals.length; i++){\r\n\r\n            let lineGenerator = d3.line().curve(d3.curveNatural);\r\n  \r\n            let pathData = lineGenerator(signals[i].values);\r\n    \r\n            //The svg line Path we draw\r\n    \r\n            // If exists, update\r\n            if(document.getElementById(signals[i].pathID)){\r\n\r\n                let signal = d3.select(\"#\"+signals[i].pathID);\r\n\r\n                let strokeWidth\r\n                let color\r\n                if(signals[i].highlight){\r\n                    strokeWidth = 4;\r\n                    signal.moveToFront();\r\n                    color = 'blue'\r\n                }\r\n                else{\r\n                    strokeWidth = 2;\r\n                    signal.moveToBack();\r\n                    color = signals[i].colour\r\n                }\r\n                \r\n                signal.attr(\"d\", pathData)\r\n                      .attr(\"stroke\", color)\r\n                      .attr(\"stroke-width\", strokeWidth)      \r\n              \r\n            }\r\n            \r\n            // Draws path if it doesn't exist\r\n            if(!document.getElementById(signals[i].pathID)){\r\n                \r\n                let strokeWidth\r\n                if(signals[i].highlight){\r\n                    strokeWidth = 4;\r\n                }\r\n                else{\r\n                    strokeWidth = 2;\r\n                }\r\n\r\n                d3.select(\"#svgSinePlot\").append(\"path\")\r\n                    .attr(\"id\",signals[i].pathID)\r\n                    .attr(\"d\", pathData)\r\n                    .attr(\"transform\",\"translate(\" + (1/10)*this.width + \")\")\r\n                    .attr(\"stroke\", signals[i].colour)\r\n                    .attr(\"stroke-width\", strokeWidth)\r\n                    .attr(\"fill\", \"none\")\r\n          }\r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass SumPlot extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.height = 0;\r\n        this.width = 0;\r\n    }\r\n\r\n    componentDidMount(){\r\n        // Only get dimensions when DOM is loaded\r\n        this.height = document.getElementById(\"svgSumPlot\").getBoundingClientRect().height;\r\n        this.width = document.getElementById(\"svgSumPlot\").getBoundingClientRect().width;\r\n\r\n        // Create scale\r\n        let xscale = d3.scaleLinear()\r\n        .domain([0, 2]) // This needs to be dynamic\r\n        .range([ (1/10)*this.width, (9/10)*this.width ]);\r\n\r\n        let yscale = d3.scaleLinear()\r\n        .domain([4,-4]) // This needs to be dynamic\r\n        .range([(1/10)*this.height, (9/10)*this.height ]);\r\n\r\n        // Add scales to axis\r\n        let x_axis = d3.axisBottom()\r\n        .scale(xscale);\r\n\r\n        let y_axis = d3.axisLeft()\r\n        .scale(yscale);\r\n\r\n        const svgSumPlot = d3.select(\"#svgSumPlot\")\r\n\r\n                svgSumPlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",this.width/2)\r\n                .attr(\"y\",this.height/20)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Sum of Signals Plot\");\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\", \"translate(0,\" + this.height/2 + \")\")\r\n                .attr(\"pointer-events\", \"none\")\r\n                .call(x_axis);\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\",\"translate(\" + (1/10)*this.width + \",0)\")\r\n                .attr(\"pointer-events\", \"none\")\r\n                .call(y_axis)\r\n    }\r\n\r\n    render(){\r\n\r\n        let sumSignals = []; \r\n        let plotWidth = 0.8 * this.width;\r\n        // console.log(this.height);\r\n        // console.log(this.width);\r\n\r\n        // This will break if we change plotWidth elsewhere \r\n        for(let k = 0; k < plotWidth; k++){\r\n            sumSignals.push([0,0]);\r\n        }\r\n\r\n        // Looping through all the signals\r\n        for (let i=0; i < this.props.signals.length; i++){\r\n\r\n            // Looping through the signal values\r\n            for(let j=0; j < this.props.signals[i].values.length; j++){\r\n\r\n                //sumSignals[j] = this.props.signals[i].values[j];\r\n                sumSignals[j][0] = this.props.signals[i].values[j][0];\r\n                sumSignals[j][1] += this.props.signals[i].values[j][1];\r\n            }\r\n            \r\n        }\r\n\r\n        // Should scale this to the svg dimenesions rather than hardcoding it with svgContainerHeight\r\n        for (let n =0; n < sumSignals.length; n++){\r\n            sumSignals[n][1] = sumSignals[n][1] - (this.props.signals.length-1)*(this.height/2)\r\n        }\r\n\r\n        let lineGenerator = d3.line()\r\n          .curve(d3.curveNatural);\r\n\r\n        let pathData = lineGenerator(sumSignals);\r\n\r\n        //The svg line Path we draw\r\n\r\n        // If exists, update\r\n        if(document.getElementById(\"path_Sum\")){\r\n            d3.select(\"#\".concat(\"path_Sum\")).attr(\"d\", pathData)  \r\n               \r\n        }\r\n        \r\n        // Draws path if it doesn't exist\r\n        if(!document.getElementById(\"path_Sum\")){\r\n             d3.select(\"#svgSumPlot\").append(\"path\")\r\n                .attr(\"id\",\"path_Sum\")\r\n                .attr(\"d\", pathData)\r\n                .attr(\"transform\",\"translate(\" + (1/10)*this.width + \")\")\r\n                .attr(\"stroke\", \"black\")\r\n                .attr(\"stroke-width\", 2)\r\n                .attr(\"fill\", \"none\")\r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class FourierCoefficients extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            signals: [\r\n                /* Example signal object \r\n                {\r\n                    id: signals.length,\r\n                    amplitude: amplitude,                \r\n                    frequency: signals.length,   \r\n                    phase: phase,\r\n                    values: this.generateSignal(amplitude,signals.length,phase),\r\n                    pathID: 'path_'.concat(i.toString(10)), \r\n                    draggingMag: false,    \r\n                    draggingPhasePos: false,    \r\n                    draggingPhaseNeg: false,  \r\n                    colour: rgb(intensity,intensity,intensity),\r\n                    highlight: false,\r\n                    animating: false,\r\n                }\r\n                */\r\n            ],\r\n            demoSignal: 'select',\r\n            plotViewState: false, // false is default view, true is full view\r\n            plotView: 'Default',\r\n            fourierMultiples: 4, // 4 is the default view, -4 to 4 multiples of fundamental frequency \r\n        };\r\n        // This binding is necessary to make `this.` work in the callback   \r\n        this.handleMouseDown = this.handleMouseDown.bind(this);\r\n        this.handleMouseUp = this.handleMouseUp.bind(this);\r\n        this.handleMouseMove = this.handleMouseMove.bind(this);\r\n        this.handleMouseOverFourier = this.handleMouseOverFourier.bind(this);\r\n        this.handleMouseMoveFourierMag = this.handleMouseMoveFourierMag.bind(this);\r\n        this.handleMouseMoveFourierPhase = this.handleMouseMoveFourierPhase.bind(this);\r\n        this.handleMouseOverSignalControls = this.handleMouseOverSignalControls.bind(this);\r\n        this.handleDemoSignal = this.handleDemoSignal.bind(this);\r\n        this.redrawSignal = this.redrawSignal.bind(this);\r\n    }\r\n    \r\n    addSignal(amplitude, phase){\r\n        let signals = this.state.signals;\r\n\r\n        // Colour intensity goes from least intense: rgb(192,192,192) (Silver) to most intense: rgb(0,0,0) (Black)\r\n        const intensity =  (192 - 48*amplitude);\r\n\r\n        // Loop through the current state's signals array\r\n        for(let i = 0; i < signals.length + 1; i++){\r\n\r\n            // Add new signal to end of array if we reach end of array\r\n            if(i === signals.length){\r\n                signals = signals.concat([{       // Just concatenating array of JSON\r\n                    id: signals.length,\r\n                    amplitude: amplitude,                // Should be user input\r\n                    frequency: signals.length,   // Should be user input\r\n                    phase: phase,\r\n                    values: this.generateSignal(amplitude,signals.length,phase),\r\n                    pathID: 'path_'.concat(i.toString(10)), \r\n                    draggingMag: false,    \r\n                    draggingPhasePos: false,    \r\n                    draggingPhaseNeg: false,  \r\n                    colour: rgb(intensity,intensity,intensity),\r\n                    highlight: false,\r\n                    animating: false,\r\n                },]);\r\n                // console.log(signals)\r\n                break;\r\n            }\r\n\r\n            // If there's a missing ID, insert it to appropriate index\r\n            // e.g. id array: [0, 1, 3]. Therefore missing id 2\r\n            if(i !== signals[i].id){\r\n                let newSignal = {       \r\n                    id: i,\r\n                    amplitude: amplitude,                // Should be user input\r\n                    frequency: i,   // Should be user input\r\n                    phase: phase,\r\n                    values: this.generateSignal(amplitude,i,phase),\r\n                    pathID: 'path_'.concat(i.toString(10)), \r\n                    draggingMag: false,    \r\n                    draggingPhasePos: false,    \r\n                    draggingPhaseNeg: false,  \r\n                    colour: rgb(intensity,intensity,intensity),\r\n                    highlight: false,\r\n                    animating: false,\r\n                }\r\n\r\n                signals.splice(i, 0, newSignal);\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Once this.setState has been called, it'll call render() to render straight away\r\n        this.setState({\r\n            signals: signals,\r\n        });        \r\n    }\r\n\r\n    removeSignal(signalID){\r\n        // Need to find signal id from the array and delete, then re-update id's\r\n        const signals = this.state.signals;\r\n\r\n        console.log(\"Hi from removeSignal\");    \r\n        console.log(signalID)\r\n        console.log(\"Before: \", signals);\r\n\r\n        let index;\r\n        for(index = 0; index < signals.length; index++){\r\n            if(signals[index].id === signalID){\r\n                break\r\n            }\r\n        }\r\n        console.log(index)\r\n        \r\n        // Find the pathID and delete from DOM\r\n        d3.select(\"#\"+signals[index].pathID).remove();\r\n        \r\n        // Find the signal in the signals array and delete\r\n        signals.splice(index,1)\r\n        \r\n        console.log(\"After:\", signals);\r\n\r\n        this.setState({\r\n            signals: signals,\r\n        });\r\n        console.log(this.state.signals);\r\n\r\n    \r\n    }\r\n    \r\n    animateSignal(signalID){\r\n\r\n        const signals = this.state.signals;\r\n        // console.log(signalID)    \r\n\r\n        // finding the signal\r\n        let index;\r\n        for(index = 0; index < signals.length; index++){\r\n            if(signals[index].id === signalID){\r\n                break\r\n            }\r\n        }\r\n\r\n        // window.requestAnimationFrame(this.redrawSignal.bind(this, signals, index));\r\n        \r\n        // If we're not animating, we animate the signal\r\n        // default value is false\r\n\r\n        /*\r\n        console.log(signals[index].animatingID)\r\n\r\n        if(signals[index].animatingID === null){\r\n            console.log('starting animation')\r\n            let animatingID = this.redrawSignal(signals,index)\r\n            signals[index].animatingID = animatingID\r\n        }\r\n        // If we're animating, we stop the animiation\r\n        else if(signals[index].animatingID !== null){\r\n            console.log('stopping animation')\r\n            window.cancelAnimationFrame(signals[index].animatingID);\r\n            signals[index].animatingID = null\r\n\r\n            this.setState({\r\n                signals: signals,\r\n            });\r\n        }\r\n        */\r\n\r\n        signals[index].animating = !signals[index].animating\r\n        this.redrawSignal(signals,index, signals[index].animating)\r\n\r\n        this.setState({\r\n            signals: signals,\r\n        });\r\n\r\n    }\r\n\r\n    redrawSignal(signals, index, animating){\r\n\r\n        /* Remove the signal image */\r\n        // Find the pathID and delete from DOM\r\n        d3.select(\"#\"+signals[index].pathID).remove();\r\n        \r\n        // Incrementing signal phase\r\n        signals[index].phase += 1; \r\n\r\n        // Looping phase back to -180 degrees after passing 180 degrees\r\n        if(signals[index].phase > 180){\r\n            signals[index].phase = - 180\r\n        }\r\n\r\n        // Recalculating and redrawing signal\r\n\r\n        // This may be a bit inefficient though?\r\n\r\n        // DC Case\r\n        \r\n        if(signals[index].id === 0){\r\n            signals[index].values = this.generateDC(signals[index].amplitude, signals[index].frequency, signals[index].phase)\r\n        }\r\n        else{\r\n            signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase)\r\n        }\r\n\r\n        // \"Cycling\" the signal values\r\n        // shift() removes the first item in the array and returns it\r\n        // push() then pushes this first item into the last element in the array\r\n        // signals[index].values.push(signals[index].values.shift())\r\n        \r\n        \r\n\r\n        // let animatingID = requestAnimationFrame(this.redrawSignal.bind(this, signals, index, animating))\r\n        \r\n        // console.log('request:', animatingID)\r\n        // console.log(animatingID)\r\n\r\n        console.log(animating);\r\n        if(animating === true){\r\n            // console.log('starting animation')\r\n            // let animatingID = this.redrawSignal(signals,index)\r\n\r\n            let animatingID = requestAnimationFrame(this.redrawSignal.bind(this, signals, index, animating))\r\n            \r\n            // signals[index].animating = true\r\n            this.setState({\r\n                signals: signals,\r\n            });\r\n        }\r\n        // If we're animating, we stop the animiation\r\n        else if(animating === false){\r\n            // console.log('stop:', animatingID)\r\n            console.log('stopping animation')\r\n\r\n            let animatingID = requestAnimationFrame(this.redrawSignal.bind(this, signals, index, animating))\r\n            cancelAnimationFrame(animatingID)\r\n            \r\n            // signals[index].animating = false\r\n        }\r\n\r\n            \r\n\r\n\r\n        // return animatingID\r\n    }\r\n\r\n\r\n    generateSignal(amplitude, frequency, phase){\r\n        // Generating path data\r\n        let points = [];\r\n        // This assumes that sumPlot and sinePlots have the same dimensions, since generateSignal() is called from those plots\r\n        const divHeight = document.getElementById(\"svgSumPlot\").getBoundingClientRect().height;\r\n        const plotWidth = 0.8 * document.getElementById(\"svgSumPlot\").getBoundingClientRect().width;\r\n        // console.log(\"Plot Width\",plotWidth)\r\n        // console.log(\"Div Height\", divHeight)\r\n        let scale = -divHeight/10;\r\n        let x_offset = 0;\r\n        let y_offset = 0;\r\n\r\n        // let Fs = 80;\r\n        let Ts = Math.PI / (plotWidth/4);\r\n\r\n        /* Calculation Reference\r\n        // Assuming the plot is 800x800\r\n        // 1 period = 1 second\r\n        // 1 period = 400 pixels => Ts = 400 samples per second\r\n        // 1 Hz = 2pi radians\r\n\r\n        // Sampling frequency = samples/second\r\n        // 1 sample per 1/400 second (Ts = 1/400)\r\n        // Fs = 2pi * (1/400)\r\n        // Fs = pi / 200\r\n\r\n        // Frequency is in Hz\r\n        // This is bascially an inverse FFT \r\n        // i is basically our t (1 unit of time)\r\n        */\r\n\r\n        // For some reason, we need negative sign in front of phase to get signal direction correct?\r\n        for(let i = x_offset; i< plotWidth; i++)\r\n        {\r\n            points[i] = [i, scale*amplitude*Math.cos(Ts*frequency*i + (phase * (Math.PI / 180) )) + (divHeight/2 + y_offset)];\r\n        }\r\n        // console.log(\"Plot Length\", points.length)\r\n\r\n        return points;\r\n    }\r\n\r\n    generateDC(amplitude){\r\n        let points = [];\r\n        const divHeight = document.getElementById(\"svgSumPlot\").getBoundingClientRect().height;\r\n        const plotWidth = 0.8 * document.getElementById(\"svgSumPlot\").getBoundingClientRect().width;\r\n        let scale = - divHeight/10;\r\n\r\n        let x_offset = 0;\r\n        let y_offset = 0;\r\n\r\n        for(let i = x_offset; i< plotWidth; i++)\r\n        {\r\n            points[i] = [i, scale*amplitude + (divHeight/2 + y_offset)];\r\n        }\r\n \r\n        return points\r\n    }\r\n\r\n    updateDials(){\r\n        const signals = this.state.signals;\r\n\r\n        for(let i = 0; i< signals.length; i++){\r\n            document.getElementById(\"signal\" + signals[i].id + \"_AmpText\").value = signals[i].amplitude;\r\n            document.getElementById(\"signal\" + signals[i].id + \"_FreqText\").value = signals[i].frequency;\r\n        }\r\n    }\r\n\r\n    handleChange(event){\r\n\r\n        console.log(event)\r\n\r\n        const signals = this.state.signals;\r\n        const inputType = event.target.getAttribute('input_type');\r\n        const signalID = parseInt(event.target.getAttribute('signal_id')); // Signal ID Number\r\n        let value = parseFloat(event.target.value);   \r\n\r\n        if((inputType === \"AmpDial\") || (inputType === \"AmpText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n\r\n                // Finding index in the signal array\r\n                let index;\r\n                for(index = 0; index < signals.length; index++){\r\n                    if(signals[index].id === signalID){\r\n                        break\r\n                    }\r\n                }\r\n\r\n\r\n                // Setting limits\r\n                if(value>4){\r\n                    value = 4\r\n                }\r\n                else if(value < 0){\r\n                    value = 0\r\n                }\r\n\r\n                // DC Case\r\n                if(signalID === 0){\r\n                    signals[index].amplitude = value; \r\n                    signals[index].values = this.generateDC(signals[index].amplitude);\r\n                    document.getElementById(\"signal\" + signalID + \"_AmpText\").value = value;\r\n\r\n                    const intensity =  (192 - 48*value);\r\n                    signals[index].colour = rgb(intensity,intensity,intensity);\r\n                }\r\n                // All Other cases\r\n                else{\r\n                    signals[index].amplitude = value;                 \r\n                    signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase);\r\n                    document.getElementById(\"signal\" + signalID + \"_AmpText\").value = value;\r\n\r\n                    const intensity =  (192 - 48*value);\r\n                    signals[index].colour = rgb(intensity,intensity,intensity);\r\n                }     \r\n            }\r\n        }\r\n        else if ((inputType === \"PhaseDial\") || (inputType === \"PhaseText\")){\r\n\r\n            // Finding index in the signal array\r\n            let index;\r\n            for(index = 0; index < signals.length; index++){\r\n                if(signals[index].id === signalID){\r\n                    break\r\n                }\r\n            }            \r\n\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                // Setting limits\r\n                if(value>180){\r\n                    value = 180\r\n                }\r\n                else if(value < -180){\r\n                    value = -180\r\n                }\r\n\r\n                // DC Case\r\n                if(signalID === 0){\r\n                    signals[index].phase = value; \r\n                    signals[index].values = this.generateDC(signals[index].amplitude);\r\n                    document.getElementById(\"signal\" + signalID + \"_PhaseText\").value = value;\r\n                }\r\n                 // All Other cases\r\n                else{\r\n                    signals[index].phase = value; \r\n                    signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase);\r\n                    document.getElementById(\"signal\" + signalID + \"_PhaseText\").value = value;\r\n                }\r\n            }\r\n        }     \r\n\r\n        this.setState({\r\n                signals: signals,   \r\n            }   \r\n        );\r\n\r\n    }\r\n    \r\n    handleMouseDown(e){\r\n        console.log(\"clicked\")\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation()\r\n\r\n        const elementID = e.target.getAttribute('id');\r\n        \r\n        // sanity check\r\n        if(elementID !== null){\r\n\r\n            const condition = elementID.includes(\"circle_\");\r\n\r\n            if(condition){\r\n\r\n                console.log('circle clicked')\r\n\r\n                const signals = this.state.signals;\r\n                const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n                const circleID = e.target.getAttribute('id'); // Circle ID \r\n                \r\n                // Finding signal array's index from signal id\r\n                let index;\r\n                for(index = 0; index < signals.length; index++){\r\n                    if(signals[index].id === signalID){\r\n                        \r\n                        break\r\n                    }\r\n                }\r\n                \r\n                if(circleID.includes(\"circle_mag\")){\r\n                    signals[index].draggingMag = true;\r\n                } \r\n                if(circleID.includes(\"circle_phase_+\")){\r\n                    signals[index].draggingPhasePos = true;\r\n                } \r\n                if(circleID.includes(\"circle_phase_-\")){\r\n                    signals[index].draggingPhaseNeg = true;\r\n                } \r\n\r\n                this.setState({\r\n                    signals: signals,   \r\n                    }\r\n                );   \r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseUp(e){\r\n        console.log(\"click released\")\r\n\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n\r\n        const signals = this.state.signals;\r\n\r\n        const elementID = e.target.getAttribute('id');\r\n\r\n        // sanity check\r\n        if(elementID !== null){\r\n\r\n            // set all signals dragging to false\r\n            for(let n = 0; n < signals.length; n++){\r\n                signals[n].draggingMag = false;\r\n                signals[n].draggingPhasePos = false;\r\n                signals[n].draggingPhaseNeg = false;\r\n            }\r\n                \r\n                this.setState({\r\n                    signals: signals,   \r\n                    }\r\n                );\r\n\r\n                console.log(\"circle click released\")\r\n            }\r\n    }\r\n\r\n    // Base Mouse move function. Used in Frequency Domain. Not currently in use in this .js file\r\n    handleMouseMove(e) {\r\n\r\n        const signals = this.state.signals;\r\n        const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n        \r\n        let index;\r\n        for(index = 0; index < signals.length; index++){\r\n            if(signals[index].id === signalID){\r\n                break\r\n            }\r\n        }\r\n\r\n        //If we are dragging\r\n          if (signals[index].dragging) {\r\n              e.preventDefault();\r\n\r\n              console.log(e)\r\n              console.log(e.target)\r\n              console.log(\"clientX:\",e.clientX)\r\n              console.log(\"clientY:\",e.clientY)\r\n              // console.log(e.target.parentNode.parentNode)\r\n            let  rect = e.target.parentNode.parentNode.getBoundingClientRect();  \r\n\r\n            console.log(rect.left);\r\n            console.log(rect.top);\r\n\r\n\r\n            // Maybe should seperate coordinates and freq/amp values\r\n             signals[index].frequency = (e.clientX - rect.left - 400) / 100;\r\n             signals[index].amplitude = - (e.clientY - rect.top - 400) / 100;\r\n             signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase);\r\n\r\n            // We should set position limits\r\n\r\n            console.log(signals[index].frequency)\r\n            console.log(signals[index].amplitude)\r\n\r\n            console.log(this)\r\n\r\n            this.setState({\r\n                signals: signals,   \r\n                }\r\n            );  \r\n        }\r\n    }\r\n\r\n    handleMouseMoveFourierMag(e) {\r\n\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        \r\n        const elementID = e.target.getAttribute('id');\r\n\r\n        // sanity check\r\n        if(elementID !== null){\r\n\r\n                const signals = this.state.signals;\r\n                \r\n                // Grabbing signal id number doesn't work if event is outside of the div element \r\n                // const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n\r\n                // Find the signal that is dragging \r\n                let index;\r\n                let dragging = false;\r\n                for(let n = 0; n < signals.length; n++){\r\n                    if(signals[n].draggingMag === true){\r\n                        \r\n                        dragging = true;\r\n                        index = n;\r\n                    }\r\n                }\r\n\r\n                console.log(index);\r\n                \r\n                //If we are dragging\r\n                if (dragging) {\r\n                    // e.preventDefault();\r\n\r\n                    console.log(\"im dragging\")\r\n                    console.log(signals[index].draggingMag);\r\n                    // console.log(e.target)\r\n                    let  rect = document.getElementById(\"fourierMagPlotsID\").getBoundingClientRect();  \r\n\r\n                    let divHeight = rect.height;\r\n                    let divWidth = rect.width;\r\n                    let plotHeight = 0.8*divHeight;\r\n                    let plotWidth = 0.8*divWidth;\r\n\r\n                    // Divide by 8: max axis size (-4 to 4)\r\n                    let amplitude = - (e.clientY - rect.top - divHeight/2) / (plotHeight/8);\r\n                    if(amplitude > 4){\r\n                        amplitude = 4;\r\n                    }\r\n                    if(amplitude < 0){\r\n                        amplitude = 0;\r\n                    }\r\n\r\n                    // Maybe should seperate coordinates and freq/amp values\r\n                    signals[index].frequency = signals[index].id;\r\n                    signals[index].amplitude = amplitude;    \r\n                    signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase);\r\n                    \r\n                    const intensity =  (192 - 48*amplitude)\r\n                    signals[index].colour = rgb(intensity,intensity,intensity);\r\n\r\n                    // Checking if signal is the DC value\r\n                    if(index === 0){\r\n                        signals[index].values = this.generateDC(signals[index].amplitude);\r\n                    }\r\n\r\n                    this.setState({\r\n                        signals: signals,   \r\n                        }\r\n                    );  \r\n                }\r\n\r\n        }\r\n\r\n        \r\n    }\r\n    \r\n    handleMouseMoveFourierPhase(e) {\r\n\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n\r\n        const signals = this.state.signals;\r\n\r\n        const elementID = e.target.getAttribute('id');\r\n\r\n        // Sanity check\r\n        if(elementID !== null){\r\n\r\n            // Find the signal that is dragging \r\n\r\n            // Grabbing signal id number doesn't work if event is outside of the div element \r\n            // const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n\r\n            let index;\r\n            let draggingPhasePos = false;\r\n            let draggingPhaseNeg = false;\r\n            for(let n = 0; n < signals.length; n++){\r\n                if(signals[n].draggingPhasePos === true ){                        \r\n                    draggingPhasePos = true;\r\n                    index = n;\r\n                }\r\n                if(signals[n].draggingPhaseNeg === true){                      \r\n                    draggingPhaseNeg = true;\r\n                    index = n;\r\n                }\r\n            }\r\n\r\n            //If we are dragging\r\n            if(draggingPhasePos || draggingPhaseNeg){\r\n\r\n                let rect = document.getElementById(\"fourierPhasePlotsID\").getBoundingClientRect();  \r\n\r\n                let divHeight = rect.height;\r\n                let divWidth = rect.width;\r\n                let plotHeight = 0.8*divHeight;\r\n                let plotWidth = 0.8*divWidth;\r\n\r\n                // Maybe should seperate coordinates and freq/amp values\r\n\r\n                let circleID;\r\n                console.log(index)\r\n                if(draggingPhasePos){\r\n                    circleID = \"circle_phase_+\".concat(index.toString(10)); \r\n                }\r\n                if(draggingPhaseNeg){\r\n                    circleID = \"circle_phase_-\".concat(index.toString(10)); \r\n                }\r\n                \r\n                console.log(circleID)\r\n                const circleCX = parseInt(document.getElementById(circleID).getAttribute(\"cx\"))\r\n                console.log(circleCX) \r\n\r\n                // Positive Circle\r\n                if(circleCX >= 0){\r\n                    let phase = parseInt( - (e.clientY - rect.top - divHeight/2) / (plotHeight/360));\r\n                    if(phase > 180){\r\n                        phase = 180;\r\n                    }\r\n                    if(phase < -180){\r\n                        phase = -180;\r\n                    }\r\n                    signals[index].phase = phase;\r\n                } \r\n\r\n                // Negative Circle\r\n                else if(circleCX < 0){\r\n                    let phase = parseInt( (e.clientY - rect.top - divHeight/2) / (plotHeight/360));\r\n                    if(phase > 180){\r\n                        phase = 180;\r\n                    }\r\n                    if(phase < -180){\r\n                        phase = -180;\r\n                    }\r\n                    signals[index].phase = phase;\r\n                } \r\n\r\n                console.log(signals[index].phase)\r\n                signals[index].frequency = signals[index].id; \r\n                signals[index].values = this.generateSignal(signals[index].amplitude, signals[index].frequency, signals[index].phase);\r\n\r\n                // Checking if signal is the DC value\r\n                if(index === 0){\r\n                    signals[index].values = this.generateDC(signals[index].amplitude);\r\n                }\r\n\r\n                this.setState({\r\n                    signals: signals,   \r\n                    }\r\n                );  \r\n            }\r\n        }\r\n    }\r\n\r\n    handleMouseOverFourier(e){\r\n        // console.log(e);\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        \r\n        const elementID = e.target.getAttribute('id');\r\n        console.log(elementID);\r\n        \r\n        // sanity check\r\n        if(elementID !== null){\r\n\r\n            const condition = elementID.includes(\"circle_\");\r\n            const signals = this.state.signals;\r\n\r\n            // if a mouseover was over a circle \r\n            if(condition){\r\n\r\n                console.log('circle mouse over!')\r\n                \r\n                const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n                const circleID = e.target.getAttribute('id'); // Circle ID \r\n\r\n                // Finding signal array's index from signal id\r\n                let index;\r\n                for(index = 0; index < signals.length; index++){\r\n                    if(signals[index].id === signalID){\r\n                         \r\n                        break\r\n                    }\r\n                }\r\n                signals[index].highlight = true;\r\n\r\n                // Highlighting signal control panel\r\n                let signalControlID = 'signal-controls-'.concat(signalID.toString())\r\n                console.log(signalControlID)\r\n                document.getElementById(signalControlID).style.opacity = 1;\r\n            }\r\n\r\n            // if the mouseover is not over a circle\r\n            else {\r\n                // Set all highlight to false\r\n\r\n                let signalControlID\r\n                for(let n = 0; n < signals.length; n++){\r\n                    signals[n].highlight = false;\r\n\r\n                    signalControlID = 'signal-controls-'.concat(n.toString())\r\n\r\n                    // Check if signal dials exists\r\n                    if(document.getElementById(signalControlID)){\r\n                        // Un-highlighting signal control panel\r\n                        document.getElementById(signalControlID).style.opacity = 0.6;\r\n                    }\r\n                }  \r\n            }\r\n\r\n            this.setState({\r\n                signals: signals,   \r\n            });\r\n        }\r\n    }\r\n\r\n    handleMouseOverSignalControls(e){\r\n        const elementID = e.target.getAttribute('id');\r\n        console.log(elementID);\r\n\r\n        /*\r\n        // sanity check\r\n        if(elementID !== null){\r\n\r\n            const condition = elementID.includes(\"signal-controls-\");\r\n            const signals = this.state.signals;\r\n\r\n            // if a mouseover was over a signal control panel \r\n            if(condition){\r\n\r\n                console.log('signal mouse over!')\r\n                \r\n                const signalID = parseInt(e.target.getAttribute('signal_id')); // Signal ID Number\r\n\r\n                // Finding signal array's index from signal id\r\n                let index;\r\n                for(index = 0; index < signals.length; index++){\r\n                    if(signals[index].id === signalID){\r\n                         \r\n                        break\r\n                    }\r\n                }\r\n                signals[index].highlight = true;\r\n\r\n                let signalControlID = 'signal-controls-'.concat(signalID.toString())\r\n                console.log(signalControlID)\r\n                document.getElementById(signalControlID).style.opacity = 1;\r\n            }\r\n\r\n            // if the mouseover is not over a circle\r\n            else {\r\n                // Set all highlight to false\r\n\r\n                let signalControlID\r\n                for(let n = 0; n < signals.length; n++){\r\n                    signals[n].highlight = false;\r\n\r\n                    signalControlID = 'signal-controls-'.concat(n.toString())\r\n                    // Check if signal dials exists\r\n                    if(document.getElementById(signalControlID)){\r\n                        document.getElementById(signalControlID).style.opacity = 0.6;\r\n                    }\r\n                }  \r\n            }\r\n\r\n            this.setState({\r\n                signals: signals,   \r\n            });\r\n        }\r\n        */\r\n    }\r\n\r\n    toggleView(e){\r\n\r\n        console.log(e)\r\n        console.log(this.state.plotViewState)\r\n        console.log(this.state.plotView)\r\n\r\n        // Toggle the state\r\n        const plotViewState = !this.state.plotViewState; // False: Default. True: Full.\r\n        console.log(plotViewState)\r\n\r\n        // Default View\r\n        if(!plotViewState){\r\n            \r\n            this.setState({\r\n                fourierMultiples: 4,\r\n                plotViewState: plotViewState,\r\n                plotView: 'Default',\r\n            });\r\n        }\r\n\r\n        // Full View\r\n        else{\r\n            \r\n\r\n            const fourierMultiples = this.state.signals.length - 1; // -1 because of DC term\r\n\r\n            // Only change to full view if there are more than 4 Fourier Terms\r\n            if(fourierMultiples > 4){\r\n                this.setState({\r\n                    fourierMultiples: fourierMultiples,\r\n                    plotViewState: plotViewState,\r\n                    plotView: 'Full',\r\n                });\r\n            }\r\n            else{\r\n                this.setState({\r\n                    fourierMultiples: 4,\r\n                    plotViewState: plotViewState,\r\n                    plotView: 'Full',\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    emptyPlots(){\r\n        let signals = this.state.signals;\r\n\r\n        for(let i = 0; i< signals.length; i++){                 \r\n\r\n            d3.select(\"#\"+signals[i].pathID).remove();\r\n        }  \r\n\r\n        return signals = [];\r\n    }\r\n\r\n    handleDemoSignal(e){\r\n\r\n        let signals = this.state.signals;\r\n        const demoSignal = e.target.value;\r\n\r\n\r\n        if(demoSignal === 'empty'){\r\n            signals = this.emptyPlots();\r\n        }\r\n\r\n        // Note: If you make multiple setState() calls, only the last call will run (the prior ones won't run)\r\n        // Hence why here, we instead of repeatedly calling addSignal(), we explicitly generate the signals array\r\n        // setState() is asynchronous and are batched for performance gains. \r\n        \r\n        if(demoSignal === 'cosine'){\r\n \r\n            signals = this.emptyPlots();\r\n\r\n            // Generating DC signal\r\n            let amplitude = 0;\r\n            signals = signals.concat([{       \r\n                id: signals.length,\r\n                amplitude: amplitude,               \r\n                frequency: signals.length,  \r\n                phase: 0,\r\n                values: this.generateDC(amplitude,signals.length,0),\r\n                pathID: 'path_0', \r\n                draggingMag: false,    \r\n                draggingPhasePos: false, \r\n                draggingPhaseNeg: false,\r\n                colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                highlight: false,\r\n                animating: false,\r\n            },])\r\n\r\n            // Generating other sine waves\r\n            amplitude = 1;\r\n            signals = signals.concat([{       \r\n                id: signals.length,\r\n                amplitude: amplitude,                \r\n                frequency: signals.length,   \r\n                phase: 0,\r\n                values: this.generateSignal(amplitude,signals.length,0),\r\n                pathID: 'path_1', \r\n                draggingMag: false,    \r\n                draggingPhasePos: false, \r\n                draggingPhaseNeg: false, \r\n                colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                highlight: false,\r\n                animating: false,\r\n            },])\r\n        }\r\n\r\n\r\n        if(demoSignal === 'triangle'){\r\n            signals = this.emptyPlots();\r\n\r\n            let amplitude = 0\r\n            // Generating DC signal\r\n            signals = signals.concat([{       \r\n                id: signals.length,\r\n                amplitude: amplitude,               \r\n                frequency: signals.length,  \r\n                phase: 0,\r\n                values: this.generateDC(amplitude,signals.length,0),\r\n                pathID: 'path_0',  \r\n                draggingMag: false,    \r\n                draggingPhasePos: false, \r\n                draggingPhaseNeg: false,     \r\n                colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                highlight: false,\r\n                animating: false,\r\n            },])\r\n\r\n            // Generating other sine waves\r\n            let alternate = true;\r\n            for(let i = 1; i < 20; i++){\r\n                // Odd\r\n                if((i % 2) !== 0 ){\r\n                    amplitude = (8/Math.pow(Math.PI,2))*(1/Math.pow(i,2));\r\n\r\n                    // Non-phase shifted harmonic\r\n                    if(alternate){\r\n                        signals = signals.concat([{       \r\n                            id: signals.length,\r\n                            amplitude: amplitude,                \r\n                            frequency: signals.length,   \r\n                            phase: 90,\r\n                            values: this.generateSignal(amplitude,signals.length,90),\r\n                            pathID: 'path_'.concat(i.toString(10)), \r\n                            draggingMag: false,    \r\n                            draggingPhasePos: false, \r\n                            draggingPhaseNeg: false,   \r\n                            colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                            highlight: false,\r\n                            animating: false,\r\n                        },])\r\n                        alternate = !alternate; \r\n                    }\r\n                    // Phase shifted harmonic\r\n                    else if(!alternate){\r\n                        signals = signals.concat([{       \r\n                            id: signals.length,\r\n                            amplitude: amplitude,                \r\n                            frequency: signals.length,   \r\n                            phase: -90,\r\n                            values: this.generateSignal(amplitude,signals.length, -90),\r\n                            pathID: 'path_'.concat(i.toString(10)), \r\n                            draggingMag: false,    \r\n                            draggingPhasePos: false, \r\n                            draggingPhaseNeg: false,    \r\n                            colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                            highlight: false,\r\n                            animating: false,\r\n                        },])\r\n                        alternate = !alternate; \r\n                    }    \r\n                    \r\n                }\r\n                // Even\r\n                if((i % 2) === 0 ){\r\n                    amplitude = 0;\r\n                    \r\n                    signals = signals.concat([{       \r\n                        id: signals.length,\r\n                        amplitude: 0,                \r\n                        frequency: signals.length,   \r\n                        phase: 0,\r\n                        values: this.generateSignal(0,signals.length,0),\r\n                        pathID: 'path_'.concat(i.toString(10)), \r\n                        draggingMag: false,    \r\n                        draggingPhasePos: false, \r\n                        draggingPhaseNeg: false,    \r\n                        colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                        highlight: false,\r\n                        animating: false,\r\n                    },])\r\n                }\r\n                    \r\n            }\r\n        }\r\n\r\n        if(demoSignal === 'square'){\r\n            signals = this.emptyPlots();\r\n\r\n            // Generating DC signal\r\n            let amplitude = 0\r\n            signals = signals.concat([{       \r\n                id: signals.length,\r\n                amplitude: amplitude,               \r\n                frequency: signals.length,  \r\n                phase: 0,\r\n                values: this.generateDC(amplitude,signals.length,0),\r\n                pathID: 'path_0', \r\n                draggingMag: false,    \r\n                draggingPhasePos: false, \r\n                draggingPhaseNeg: false,  \r\n                colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                highlight: false,\r\n                animating: false,\r\n            },])\r\n\r\n            // Generating other sine waves\r\n\r\n            for(let i = 1; i < 25; i++){\r\n                // Odd\r\n                if((i % 2) !== 0 ){\r\n                    \r\n                    amplitude = (4/Math.PI)*(1/i);\r\n\r\n                    signals = signals.concat([{       \r\n                        id: signals.length,\r\n                        amplitude: amplitude,                \r\n                        frequency: signals.length,   \r\n                        phase: 90,\r\n                        values: this.generateSignal(amplitude,signals.length,90),\r\n                        pathID: 'path_'.concat(i.toString(10)), \r\n                        draggingMag: false,    \r\n                        draggingPhasePos: false, \r\n                        draggingPhaseNeg: false,     \r\n                        colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                        highlight: false,\r\n                        animating: false,\r\n                    },])    \r\n\r\n                }\r\n                // Even\r\n                if((i % 2) === 0 ){\r\n\r\n                    amplitude = 0\r\n\r\n                    signals = signals.concat([{       \r\n                        id: signals.length,\r\n                        amplitude: amplitude,                \r\n                        frequency: signals.length,   \r\n                        phase: 90,\r\n                        values: this.generateSignal(amplitude,signals.length,90),\r\n                        pathID: 'path_'.concat(i.toString(10)), \r\n                        draggingMag: false,    \r\n                        draggingPhasePos: false, \r\n                        draggingPhaseNeg: false,    \r\n                        colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                        highlight: false,\r\n                        animating: false,\r\n                    },])\r\n                }\r\n                    \r\n            }\r\n        }\r\n\r\n        if(demoSignal === 'sawtooth'){\r\n            signals = this.emptyPlots();\r\n\r\n            // Generating DC signal\r\n            let amplitude = 0\r\n            signals = signals.concat([{       \r\n                id: signals.length,\r\n                amplitude: amplitude,               \r\n                frequency: signals.length,  \r\n                phase: 0,\r\n                values: this.generateDC(amplitude,signals.length,0),\r\n                pathID: 'path_0', \r\n                draggingMag: false,    \r\n                draggingPhasePos: false, \r\n                draggingPhaseNeg: false,     \r\n                colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                highlight: false,\r\n                animating: false,\r\n            },])\r\n\r\n            // Generating other sine waves\r\n\r\n            for(let i = 1; i < 25; i++){\r\n\r\n                amplitude = (4/Math.PI)*(1/i);\r\n\r\n                // Odd\r\n                if((i % 2) !== 0 ){    \r\n                    signals = signals.concat([{       \r\n                        id: signals.length,\r\n                        amplitude: amplitude,                \r\n                        frequency: signals.length,   \r\n                        phase: -90,\r\n                        values: this.generateSignal(amplitude,signals.length,-90),\r\n                        pathID: 'path_'.concat(i.toString(10)), \r\n                        draggingMag: false,    \r\n                        draggingPhasePos: false, \r\n                        draggingPhaseNeg: false,    \r\n                        colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                        highlight: false,\r\n                        animating: false,\r\n                    },])    \r\n                }\r\n                // Even\r\n                if((i % 2) === 0 ){\r\n                    signals = signals.concat([{       \r\n                        id: signals.length,\r\n                        amplitude: amplitude,                \r\n                        frequency: signals.length,   \r\n                        phase: 90,\r\n                        values: this.generateSignal(amplitude,signals.length,90),\r\n                        pathID: 'path_'.concat(i.toString(10)), \r\n                        draggingMag: false,    \r\n                        draggingPhasePos: false, \r\n                        draggingPhaseNeg: false,    \r\n                        colour: rgb((192 - 48*amplitude), (192 - 48*amplitude),(192 - 48*amplitude)),\r\n                        highlight: false,\r\n                        animating: false,\r\n                    },])\r\n                }\r\n                    \r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            signals: signals,\r\n            demoSignal: demoSignal,\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n    const current = this.state.signals;\r\n    const fourierMultiples = this.state.fourierMultiples;\r\n\r\n    return (\r\n            <div className = {styles.container}>\r\n\r\n                <div className = {styles.timePlots} id = \"timePlotsID\">\r\n                    <div className = {styles.sinePlots} id =\"sinePlotsID\">\r\n                        <svg id=\"svgSinePlot\" width=\"40vw\" height=\"45vh\" \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black'\r\n                                }}> \r\n                            <SinePlot\r\n                                signals = {current}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                    <div className = {styles.sumPlots} id =\"sumPlotsID\">\r\n                        <svg id=\"svgSumPlot\" width=\"40vw\" height=\"45vh\" \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black'\r\n                                }}> \r\n                            <SumPlot\r\n                                signals = {current}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className = {styles.otherPlots}>\r\n\r\n                    <div className = {styles.fourierMagPlots} id =\"fourierMagPlotsID\">\r\n\r\n                        <svg id=\"svgFourierMagPlot\" width=\"40vw\" height=\"45vh\"  \r\n                        onMouseDown = {(event) => this.handleMouseDown(event)}\r\n                        onMouseUp = {(event) => this.handleMouseUp(event)}\r\n                        onMouseMove = {(event) => this.handleMouseMoveFourierMag(event)}\r\n                        onMouseOver = {(event) => this.handleMouseOverFourier(event)}\r\n\r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black',\r\n                                \r\n                                }}> \r\n                            \r\n                        \r\n                            <FourierMagPlot\r\n                                signals = {current}\r\n                                fourierMultiples = {fourierMultiples}\r\n                            />\r\n                \r\n                        </svg>\r\n                    </div>\r\n\r\n                    <div className = {styles.fourierPhasePlots} id =\"fourierPhasePlotsID\">\r\n                        <svg id=\"svgFourierPhasePlot\" width=\"40vw\" height=\"45vh\"\r\n                            onMouseDown = {(event) => this.handleMouseDown(event)}\r\n                            onMouseUp = {(event) => this.handleMouseUp(event)}\r\n                            onMouseMove = {(event) => this.handleMouseMoveFourierPhase(event)}  \r\n                            onMouseOver = {(event) => this.handleMouseOverFourier(event)}\r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black',\r\n                                \r\n                                }}> \r\n                        \r\n                            <FourierPhasePlot\r\n                                signals = {current}\r\n                                fourierMultiples = {fourierMultiples}\r\n                            />\r\n                        </svg>\r\n                    </div>         \r\n                    \r\n                </div>\r\n                <div className = {styles.controls} onMouseOver = {(event) => this.handleMouseOverSignalControls(event)}>\r\n        \r\n                        <Controls\r\n                            signals = {current}\r\n                            plotView = {this.state.plotView}\r\n                            demoSignal = {this.state.demoSignal}\r\n                            onChange = {(event) => this.handleChange(event)}\r\n                            onAdd = {(amplitude, phase) => this.addSignal(amplitude, phase)}\r\n                            onRemove = {(signalID) => this.removeSignal(signalID)}\r\n                            onAnimate = {(signalID) => this.animateSignal(signalID)}\r\n                            onDemoSignal = {(event) => this.handleDemoSignal(event)}\r\n                            onToggleView = {(event) => this.toggleView(event)}\r\n                        />\r\n                    \r\n                </div>\r\n            </div>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styles from './FrequencyDomain.module.css';\r\nimport * as d3 from \"d3\";\r\n\r\nconst svgContainerWidth = 800;\r\nconst svgContainerHeight = 800;\r\n\r\nfunction Dials(props) {\r\n    return(\r\n        <div className={styles.signal_container}>\r\n            <div className={styles.signal_info}>\r\n                <div>ID: {props.signal.id}</div>\r\n                <button id = \"remove-signal\" onClick={(i) => props.onRemove(props.signal.id)}> Remove Signal </button>\r\n            </div>\r\n            <div className={styles.signal_props}>\r\n                <div>Amplitude: {props.signal.amplitude}</div>\r\n                <div>Frequency: {props.signal.frequency}</div>\r\n                <div>Phase: {props.signal.phase}</div>\r\n            </div>\r\n            <div className = {styles.signal_dials}>\r\n                <div>\r\n                    <input \r\n                    id = {\"signal\" + props.signal.id + \"_AmpDial\" }\r\n                    signal_id = {props.signal.id}\r\n                    input_type = {\"AmpDial\"}\r\n                    type =\"range\" \r\n                    min={-5} \r\n                    max ={5} \r\n                    value = {props.signal.amplitude} \r\n                    step={0.1}\r\n                    onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                    id = {\"signal\" + props.signal.id + \"_AmpText\" }\r\n                    signal_id = {props.signal.id}\r\n                    input_type = {\"AmpText\"}\r\n                    type = \"number\"  \r\n                    min = {-5}\r\n                    max = {5}\r\n                    onChange={props.onChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                        id = {\"signal\" + props.signal.id + \"_FreqDial\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"FreqDial\"}\r\n                        type =\"range\" \r\n                        min={-4} \r\n                        max ={4} \r\n                        value = {props.signal.frequency} \r\n                        step={0.1}\r\n                        onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                        id = {\"signal\" + props.signal.id + \"_FreqText\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"FreqText\"}\r\n                        type = \"number\"  \r\n                        min = {-4}\r\n                        max = {4}\r\n                        onChange={props.onChange}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <input \r\n                        id = {\"signal\" + props.signal.id + \"_PhaseDial\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"PhaseDial\"}\r\n                        type =\"range\" \r\n                        min={-180} \r\n                        max ={180} \r\n                        value = {props.signal.phase} \r\n                        step={1}\r\n                        onChange={props.onChange}\r\n                    /> \r\n                    <input\r\n                        id = {\"signal\" + props.signal.id + \"_PhaseText\" }\r\n                        signal_id = {props.signal.id}\r\n                        input_type = {\"PhaseText\"}\r\n                        type = \"number\"  \r\n                        min = {-180}\r\n                        max = {180}\r\n                        onChange={props.onChange}\r\n                    />\r\n                </div>        \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass Controls extends React.Component {\r\n\r\n    renderDial(signal){\r\n        return(\r\n            <Dials\r\n                signal = {signal}\r\n                onChange = {(event) => this.props.onChange(event)}\r\n                onRemove = {(i) => this.props.onRemove(i)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n        const signalList = []; \r\n        for (let i=0; i < this.props.signals.length; i++){\r\n            signalList.push(\r\n                <div key={\"signal\" + this.props.signals[i].id}> \r\n                    {this.renderDial(this.props.signals[i])} \r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div className = {styles.dials} >\r\n                {signalList}\r\n                <button id = \"add-signal\" align-content = \"center\" onClick={() => this.props.onAdd()}> Add New Signal </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction Circles(props) {\r\n        return(\r\n            <circle\r\n                id = {\"circle_\"+props.signal.id}\r\n                signal_id = {props.signal.id}\r\n                cx = {(props.signal.frequency)* (800/8)}\r\n                cy = {(props.signal.amplitude)*(800/8)}\r\n                transform=\"translate(400,400) scale(1,-1)\"\r\n                r = {20}\r\n                fill = \"black\"\r\n                stroke = \"black\"\r\n                strokeWidth=\"1\"\r\n                onMouseDown={props.onMouseDown}\r\n                onMouseUp={props.onMouseUp}\r\n                onMouseOut={props.onMouseUp}\r\n                onMouseMove={props.onMouseMove}\r\n            />\r\n        );\r\n    \r\n}\r\n\r\n\r\nclass SinePlot extends React.Component {\r\n    render(){\r\n        const current = this.props.signals;\r\n    \r\n        // Appending svg\r\n        // Check if the element 'svg_id' exists. If not, create new svg, append and draw it\r\n        // Not sure if this scales well \r\n\r\n        for(let i = 0; i < current.length; i++){\r\n\r\n            let svgID  = 'svg_'\r\n            let pathID = 'path_'\r\n            svgID = svgID.concat(i.toString(10))\r\n            pathID = pathID.concat(i.toString(10))\r\n\r\n            let lineGenerator = d3.line()\r\n                                  .curve(d3.curveNatural);\r\n\r\n            let pathData = lineGenerator(current[i].values);\r\n\r\n             // Create scale\r\n            let xscale = d3.scaleLinear()\r\n                        .domain([0, 2]) // This needs to be dynamic\r\n                        .range([50, 750]);\r\n\r\n            let yscale = d3.scaleLinear()\r\n                        .domain([3.5,-3.5]) // This needs to be dynamic\r\n                        .range([50, 750]);\r\n\r\n            // Add scales to axis\r\n            let x_axis = d3.axisBottom()\r\n                .scale(xscale);\r\n\r\n            let y_axis = d3.axisLeft()\r\n                .scale(yscale);\r\n\r\n            // For now, if svgID exists, then just redraw\r\n            if(document.getElementById(svgID)){\r\n                d3.select(\"#\"+pathID).attr(\"d\", pathData)  \r\n            }\r\n            \r\n            // If svgID doesn't exist, then add it to the DOM\r\n\r\n            if(!document.getElementById(svgID)){\r\n                //The SVG Container\r\n                const svgSinePlot = d3.select(\"#sinePlotsID\").append(\"svg\")\r\n                .attr(\"id\",svgID)\r\n                .attr(\"width\", svgContainerWidth)\r\n                .attr(\"height\", svgContainerHeight)\r\n                .attr(\"transform\",\"translate(10)\")\r\n                .attr(\"style\",\"position: absolute\")\r\n                .attr(\"style\", \"border: 1px solid black\")\r\n                .attr(\"top\",\"100px\")\r\n                .attr(\"left\",\"50px\")\r\n\r\n                svgSinePlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",400)\r\n                .attr(\"y\",30)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Sine Plot \" + i);\r\n\r\n                //The line SVG Path we draw\r\n                svgSinePlot.append(\"path\")\r\n                .attr(\"id\",pathID)\r\n                .attr(\"transform\",\"translate(50)\")\r\n                .attr(\"d\", pathData)\r\n                .attr(\"stroke\", \"blue\")\r\n                .attr(\"stroke-width\", 2)\r\n                .attr(\"fill\", \"none\")\r\n\r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\",\"translate(0,400)\")\r\n                .call(x_axis);\r\n                \r\n                svgSinePlot.append('g')\r\n                .attr(\"transform\",\"translate(50,0)\")\r\n                .call(y_axis);\r\n            }          \r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport class FrequencyPlot extends React.Component {\r\n\r\n    renderCircle(signal){\r\n        return(\r\n            <Circles\r\n                signal = {signal}\r\n                onMouseDown = {(event) => this.props.onMouseDown(event)}\r\n                onMouseUp = {(event) => this.props.onMouseUp(event)}\r\n                onMouseOut = {(event) => this.props.onMouseUp(event)}\r\n                onMouseMove = {(event) => this.props.onMouseMove(event)}\r\n            />\r\n        );\r\n    }\r\n\r\n    render(){\r\n\r\n    const signals = this.props.signals;\r\n     \r\n        let freqSvg = d3.select(\"#svgFreqPlot\")\r\n\r\n        const circleList = []; \r\n       \r\n        for (let i=0; i < this.props.signals.length; i++){\r\n            circleList.push(\r\n                    this.renderCircle(this.props.signals[i])\r\n            )\r\n        }\r\n        \r\n        // Should probably check both axis if they exist before appending\r\n        if(!document.getElementById(\"x_axis_freqPlot\")){\r\n\r\n            // Create Axis for Frequency Plot\r\n            let xscale_freq = d3.scaleLinear()\r\n                                .domain([-3.5, 3.5]) // This needs to be dynamic\r\n                                .range([50, 750]);\r\n\r\n            let yscale_freq = d3.scaleLinear()\r\n                                .domain([3.5,-3.5]) // This needs to be dynamic\r\n                                .range([50, 750]);\r\n\r\n            // Add scales to axis\r\n            let x_axis_freq = d3.axisBottom()\r\n                                .scale(xscale_freq);\r\n\r\n            let y_axis_freq = d3.axisLeft()\r\n                                .scale(yscale_freq);\r\n            \r\n            freqSvg.append(\"text\")\r\n                    .attr(\"text-anchor\", \"middle\")  \r\n                    .attr(\"x\",400)\r\n                    .attr(\"y\",30)\r\n                    .style(\"font-size\", \"16px\") \r\n                    .style(\"text-decoration\", \"underline\")  \r\n                    .text(\"Frequency Domain Plot\");\r\n                    \r\n            freqSvg.append('g')\r\n                    .attr(\"id\",\"x_axis_freqPlot\")\r\n                    .attr(\"transform\",\"translate(0,400)\")\r\n                    .call(x_axis_freq);\r\n\r\n            freqSvg.append('g')\r\n                    .attr(\"id\",\"y_axis_freqPlot\")\r\n                    .attr(\"transform\",\"translate(400,0)\")\r\n                    .call(y_axis_freq); \r\n        }\r\n\r\n        return( \r\n            <svg>\r\n               {circleList}\r\n            </svg>\r\n        );\r\n    }\r\n}\r\n\r\nclass SumPlot extends React.Component {\r\n\r\n    render(){\r\n\r\n        let sumSignals = []; \r\n        let svgContainerHeight = 800;\r\n        let plotWidth = 700;\r\n\r\n        // This will break if we change plotWidth elsewhere \r\n        for(let k = 0; k < plotWidth; k++){\r\n            sumSignals.push([0,0]);\r\n        }\r\n\r\n        // Looping through all the signals\r\n        for (let i=0; i < this.props.signals.length; i++){\r\n\r\n            // Looping through the signal values\r\n            for(let j=0; j < this.props.signals[i].values.length; j++){\r\n\r\n                //sumSignals[j] = this.props.signals[i].values[j];\r\n                sumSignals[j][0] = this.props.signals[i].values[j][0];\r\n                sumSignals[j][1] += this.props.signals[i].values[j][1];\r\n            }\r\n            \r\n        }\r\n\r\n        // There is a way to scale this to the svg dimenesions rather than hardcoding it\r\n        for (let n =0; n < sumSignals.length; n++){\r\n            sumSignals[n][1] = sumSignals[n][1] - (this.props.signals.length-1)*(svgContainerHeight/2)\r\n        }\r\n\r\n        let lineGenerator = d3.line()\r\n          .curve(d3.curveNatural);\r\n\r\n        let pathData = lineGenerator(sumSignals);\r\n\r\n        // Create scale\r\n        let xscale = d3.scaleLinear()\r\n        .domain([0, 2]) // This needs to be dynamic\r\n        .range([50, 750]);\r\n\r\n        let yscale = d3.scaleLinear()\r\n        .domain([3.5,-3.5]) // This needs to be dynamic\r\n        .range([50, 750]);\r\n\r\n        // Add scales to axis\r\n        let x_axis = d3.axisBottom()\r\n        .scale(xscale);\r\n\r\n        let y_axis = d3.axisLeft()\r\n        .scale(yscale);\r\n\r\n        //The line SVG Path we draw\r\n\r\n        // If exists, update\r\n        if(document.getElementById(\"path_Sum\")){\r\n            d3.select(\"#\"+\"path_Sum\").attr(\"d\", pathData)  \r\n               \r\n        }\r\n        \r\n        // Draws path if it doesn't exist\r\n        if(!document.getElementById(\"path_Sum\")){\r\n             d3.select(\"#svgSumPlot\").append(\"path\")\r\n                .attr(\"id\",\"path_Sum\")\r\n                .attr(\"d\", pathData)\r\n                .attr(\"transform\",\"translate(50)\")\r\n                .attr(\"stroke\", \"blue\")\r\n                .attr(\"stroke-width\", 2)\r\n                .attr(\"fill\", \"none\")\r\n\r\n            const svgSumPlot = d3.select(\"#svgSumPlot\")\r\n\r\n                svgSumPlot.append(\"text\")\r\n                .attr(\"text-anchor\", \"middle\")  \r\n                .attr(\"x\",400)\r\n                .attr(\"y\",30)\r\n                .style(\"font-size\", \"16px\") \r\n                .style(\"text-decoration\", \"underline\")  \r\n                .text(\"Sum of Signals Plot\");\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\",\"translate(0,400)\")\r\n                .call(x_axis);\r\n\r\n                svgSumPlot.append('g')\r\n                .attr(\"transform\",\"translate(20,0)\")\r\n                .call(y_axis)\r\n                .attr(\"transform\",\"translate(50,0)\");\r\n                \r\n        }\r\n\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class FrequencyDomain extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            signals: [\r\n                /* Example signal object \r\n                    {\r\n                    id: 0,\r\n                    amplitude: 1,\r\n                    frequency: 1,\r\n                    values: this.generateSignal(1,1),\r\n                    dragging: false,    \r\n                    },\r\n                */\r\n            ],\r\n            circles:[\r\n            ],\r\n        };\r\n        // This binding is necessary to make `this.` work in the callback   \r\n        this.handleMouseDown = this.handleMouseDown.bind(this);\r\n        this.handleMouseUp = this.handleMouseUp.bind(this);\r\n        this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    }\r\n    \r\n    addSignal(){\r\n        const signals = this.state.signals;\r\n\r\n        // Once this.setState has been called, it'll call render() to render straight away\r\n        this.setState({\r\n            signals: signals.concat([{  // Just concatenating array of JSON\r\n                id: signals.length,\r\n                amplitude: 0,           // Should be user input\r\n                frequency: 0,           // Should be user input\r\n                phase: 0,\r\n                values: this.generateSignal(0,0,0),\r\n                dragging: false,    \r\n            },]),\r\n        });        \r\n\r\n\r\n    }\r\n\r\n    removeSignal(i){\r\n        // Need to find signal id from the array and delete, then re-update id's\r\n        const signals = this.state.signals;\r\n\r\n\r\n        console.log(\"Hi from removeSignal\");    \r\n        console.log(i)\r\n        console.log(\"Before: \", signals);\r\n        signals.splice(i,1)\r\n        console.log(\"After:\", signals);\r\n\r\n        for(let n = 0; n< this.state.signals.length; n++){\r\n            signals[n].id = n;\r\n        }        \r\n\r\n        // Find the svgId and pathID and delete from DOM\r\n\r\n        let svgID  = 'svg_'\r\n        let pathID = 'path_'\r\n        svgID = svgID.concat(i.toString(10))\r\n        pathID = pathID.concat(i.toString(10))\r\n\r\n        d3.select(\"#\"+svgID).remove();\r\n\r\n        this.setState({\r\n            signals: signals,\r\n        });\r\n        console.log(this.state.signals);\r\n\r\n    \r\n    }\r\n\r\n    generateSignal(amplitude, frequency, phase){\r\n        // Generating path data\r\n        let points = [];\r\n        const plotHeight = 700;\r\n        const plotWidth = 700;\r\n        let scale = -100;\r\n        let x_offset = 0;\r\n        let y_offset = 50;\r\n\r\n        let Fs = 80;\r\n        let Ts = Math.PI / 200;\r\n\r\n        /* Calculation Reference\r\n        // 1 period = 1 second\r\n        // 1 period = 400 pixels => Ts = 400 samples per second\r\n        // 1 Hz = 2pi radians\r\n\r\n        // Sampling frequency = samples/second\r\n        // 1 sample per 1/400 second (Ts = 1/400)\r\n        // Fs = 2pi * (1/400)\r\n        // Fs = pi / 200\r\n\r\n        // Frequency is in Hz\r\n        // This is bascially an inverse FFT \r\n        // i is basically our t (1 unit of time)\r\n        */\r\n        for(let i = x_offset; i< plotWidth; i++)\r\n        {\r\n            points[i] = [i, scale*amplitude*Math.sin(Ts*frequency*i + (phase * (Math.PI / 180) )) + (plotHeight/2 + y_offset)];\r\n        }\r\n        return points;\r\n    }\r\n\r\n    updateDials(){\r\n        const signals = this.state.signals;\r\n\r\n        for(let i = 0; i< signals.length; i++){\r\n            document.getElementById(\"signal\" + signals[i].id + \"_AmpText\").value = signals[i].amplitude;\r\n            document.getElementById(\"signal\" + signals[i].id + \"_FreqText\").value = signals[i].frequency;\r\n        }\r\n    }\r\n\r\n    handleChange(event){\r\n\r\n\r\n        const signals = this.state.signals;\r\n        const inputType = event.target.getAttribute('input_type');\r\n        const signalID = event.target.getAttribute('signal_id'); // Signal ID Number\r\n        let value = parseFloat(event.target.value);   \r\n\r\n        // Text Form can currently exceed the maximum limit of 10, should limit?\r\n\r\n        if((inputType === \"AmpDial\") || (inputType === \"AmpText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].amplitude = value;                 \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_AmpText\").value = value;\r\n            }\r\n        }\r\n        else if ((inputType === \"FreqDial\") || (inputType === \"FreqText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].frequency = value; \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_FreqText\").value = value;\r\n            }\r\n        } \r\n        else if ((inputType === \"PhaseDial\") || (inputType === \"PhaseText\")){\r\n            if(isNaN(value)){\r\n                value = 0;\r\n            }\r\n            else{\r\n                signals[signalID].phase = value; \r\n                signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n                document.getElementById(\"signal\" + signalID + \"_PhaseText\").value = value;\r\n            }\r\n        }     \r\n\r\n        this.setState({\r\n                signals: signals,   \r\n            }   \r\n        );\r\n\r\n    }\r\n\r\n    \r\n    handleMouseDown(e){\r\n        console.log(\"clicked\")\r\n\r\n        e.preventDefault();\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n\r\n        signals[signalID].dragging = true;\r\n\r\n        this.setState({\r\n            signals: signals,   \r\n            }\r\n        );   \r\n    }\r\n\r\n    handleMouseUp(e){\r\n        console.log(\"click released\")\r\n\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n        console.log(e.type)\r\n        if(e.type == 'mouseout' && signals[signalID].dragging) {\r\n            console.log(\"mouse went out\")\r\n            return;\r\n        }\r\n\r\n        signals[signalID].dragging = false;\r\n        \r\n        this.setState({\r\n            signals: signals,   \r\n            }\r\n        );\r\n        \r\n    }\r\n\r\n    handleMouseMove(e) {\r\n\r\n        const signals = this.state.signals;\r\n        const signalID = e.target.getAttribute('signal_id'); // Signal ID Number\r\n\r\n        //If we are dragging\r\n          if (signals[signalID].dragging) {\r\n              e.preventDefault();\r\n\r\n              console.log(e)\r\n              console.log(e.target)\r\n              console.log(\"clientX:\",e.clientX)\r\n              console.log(\"clientY:\",e.clientY)\r\n              // console.log(e.target.parentNode.parentNode)\r\n            let  rect = e.target.parentNode.parentNode.getBoundingClientRect();  \r\n\r\n            console.log(rect.left);\r\n            console.log(rect.top);\r\n\r\n\r\n            // Maybe should seperate coordinates and freq/amp values\r\n             signals[signalID].frequency = (e.clientX - rect.left - 400) / 100;\r\n             signals[signalID].amplitude = - (e.clientY - rect.top - 400) / 100;\r\n             signals[signalID].values = this.generateSignal(signals[signalID].amplitude, signals[signalID].frequency, signals[signalID].phase);\r\n\r\n\r\n            // We should set position limits\r\n\r\n            console.log(signals[signalID].frequency)\r\n            console.log(signals[signalID].amplitude)\r\n\r\n            console.log(this)\r\n\r\n            this.setState({\r\n                signals: signals,   \r\n                }\r\n            );  \r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n    const current = this.state.signals;\r\n\r\n    return (\r\n            <div className = {styles.container}>\r\n\r\n                <div className = {styles.sinePlots} id =\"sinePlotsID\">\r\n                    <SinePlot\r\n                        signals = {current}\r\n                    />\r\n                </div>\r\n\r\n                <div className = {styles.otherPlots}>\r\n                    <div className = {styles.freqPlots} id =\"freqPlotsID\">\r\n                        <svg id=\"svgFreqPlot\" width=\"800\" height=\"800\"  \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black',\r\n                                \r\n                                }}> \r\n                        \r\n                            <FrequencyPlot\r\n                                signals = {current}\r\n                                onMouseDown = {(event) => this.handleMouseDown(event)}\r\n                                onMouseUp = {(event) => this.handleMouseUp(event)}\r\n                                onMouseOut = {(event) => this.handleMouseUp(event)}\r\n                                onMouseMove = {(event) => this.handleMouseMove(event)}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n\r\n                    <div className = {styles.sumPlots} id =\"sumPlotsID\">\r\n                        <svg id=\"svgSumPlot\" width=\"800\" height=\"800\" \r\n                            style = {{\r\n                                position: \"relative\", \r\n                                top: \"0%\",\r\n                                left: \"0%\",\r\n                                transform: \"translate(0%, 0%)\",\r\n                                border: '1px solid black'\r\n                                }}> \r\n                            <SumPlot\r\n                                signals = {current}\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n                <div className = {styles.controls}>\r\n                    \r\n                        <Controls\r\n                            signals = {current}\r\n                            onChange = {(event) => this.handleChange(event)}\r\n                            onAdd = {() => this.addSignal()}\r\n                            onRemove = {(i) => this.removeSignal(i)}\r\n                        />\r\n                    \r\n                </div>\r\n            </div>\r\n      );\r\n    }\r\n  }","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import logo from './logo.svg';\r\nimport styles from './App.module.css';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as d3 from \"d3\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nimport {FourierCoefficients} from './FourierCoefficients.js'\r\nimport {FrequencyDomain} from './FrequencyDomain.js'\r\n\r\n/*\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n*/\r\n\r\n\r\n/* Known Bugs:\r\n- removeSignal() only works if you starting removing from the last signal\r\n- if you move/drag the mouse too fast the circle doesn't catch up\r\n- phase dial for DC signal updates amplitude when it's not meant to\r\n- negative phase circle is meant to move in opposite direction when dragged (cartersian coordinate problem)\r\n\r\n\r\n- Changing frequency does update the signal (when it's not meant to)\r\n^ But this is deliberate because we haven't updated FreqPlot functionality to fit with Fourier Plots\r\n*/\r\n\r\n\r\n\r\nfunction App() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n        </header>\r\n        <Router>\r\n          <Typography className = {styles.navbar}>\r\n                      <div className = {styles.tab} id=\"home\">  \r\n                        <Link to=\"/signals-web-app/\">Home</Link>\r\n                      </div>\r\n                      <div className = {styles.tab}> \r\n                        <Link to=\"/about\">About</Link>\r\n                      </div>\r\n                      <div className = {styles.tab}>  \r\n                        <Link to=\"/FourierCoefficients\">Fourier Coefficients</Link>\r\n                      </div>\r\n          </Typography>\r\n            {/*\r\n              A <Switch> looks through all its children <Route>\r\n              elements and renders the first one whose path\r\n              matches the current URL. Use a <Switch> any time\r\n              you have multiple routes, but you want only one\r\n              of them to render at a time\r\n            */}\r\n\r\n            <Switch>\r\n              <Route exact path=\"/signals-web-app/\">\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/about\">\r\n                <About />\r\n              </Route>\r\n              <Route path=\"/FourierCoefficients\">\r\n                <FourierCoefficients />\r\n              </Route>\r\n            </Switch>\r\n  \r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function About() {\r\n    return (\r\n      <div className = {styles.centertext}>  \r\n        <div>\r\n          <h2>About the Project</h2>\r\n            <h4>\r\n              The aim of the project was to help students to have a more intuitive understanding \r\n              of the various topics in ECE2111 - Signals and Systems. The unit ECE2111, Signals and Systems, \r\n              taught by lecturer James Saunderson, involves many visual representations of the properties of \r\n              sinusoidal signals and their frequency response. \r\n            </h4>\r\n            <h4>\r\n              James had an idea of a helpful, interactive web application where students could interact \r\n              with and adjust signal properties and observe the relationships in time domain, frequency \r\n              domain etc. Hence, this final year project was proposed.\r\n            </h4>\r\n          <h2/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  class Home extends React.Component{\r\n    render() {\r\n\r\n      return(\r\n      <div>\r\n        <div className = {styles.centertext}>  \r\n          <h2>Welcome!</h2>\r\n          <h4>\r\n            This website was designed to allow students to learn more about topics in the unit ECE2111\r\n            through visualization and interaction with signal properties.\r\n            \r\n          </h4>\r\n            <h4>\r\n              Feel free to explore the topics, there's (hopefully) more to come!\r\n            </h4>\r\n          </div>\r\n      </div>\r\n      )\r\n\r\n    };\r\n  }\r\n\r\n  // ========================================\r\n  \r\n  ReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n  );\r\n\r\n  export default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"FrequencyDomain_home__30fuX\",\"container\":\"FrequencyDomain_container__DTkEc\",\"navbar\":\"FrequencyDomain_navbar__2nfHk\",\"tab\":\"FrequencyDomain_tab__2HYGI\",\"controls\":\"FrequencyDomain_controls__3_b1P\",\"dials\":\"FrequencyDomain_dials__1_C6C\",\"signal_container\":\"FrequencyDomain_signal_container__2wtJT\",\"signal_info\":\"FrequencyDomain_signal_info__2oOve\",\"signal_props\":\"FrequencyDomain_signal_props__3Psyr\",\"signal_dials\":\"FrequencyDomain_signal_dials__36fR_\",\"sinePlots\":\"FrequencyDomain_sinePlots__1Lmk_\",\"otherPlots\":\"FrequencyDomain_otherPlots__2dZs_\",\"freqPlots\":\"FrequencyDomain_freqPlots__2WRIF\",\"sumPlots\":\"FrequencyDomain_sumPlots__9CQRp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"App_home__gVUmA\",\"container\":\"App_container__2fAhY\",\"navbar\":\"App_navbar__3YSH8\",\"tab\":\"App_tab__2izV7\",\"centertext\":\"App_centertext__1tHIr\"};"],"sourceRoot":""}